"use strict";(self.webpackChunk_snowflake_nu_ui=self.webpackChunk_snowflake_nu_ui||[]).push([["22089"],{909896:function(e,t,r){r.d(t,{n:()=>a});var s=r(280561),n=r(551727),i=r(706210),o=r(859399);class a{getTypes(e,t,r,a){let l={};for(let r=1;r<=e.maxCol;r++){let d,h=e.cols[r],p=e.parameters,f=a.colForColIdx(r);if(d instanceof s.L&&/id$/i.test(f)){let e=new Set;d=new i.y;for(let s=0;s<t.length;s++){let i=t[s][r-1];if(i)if(e.has(i)){d=new n.a;break}else e.add(i)}}else{var u,c;(null==(d=o.g.colTypeForDatabaseType(null!=(c=null==h?void 0:h.name)?c:"",h.externalType,p))?void 0:d.id)==="json"&&"variant"===h.externalType&&(null==(u=h.type)?void 0:u.id)==="category"&&(d=h.type)}l[r]=d}return l}}},655460:function(e,t,r){r.d(t,{f:()=>c});var s=r(18259),n=r(859399),i=r(280561),o=r(77468),a=r(963837),l=r(173550),u=r(425876);class c{getTypes(e,t,r,s){let n=[];for(let t=1;t<=e.maxCol;t++){let i=e.cols[t];(!r||-1!==r.indexOf(t))&&(i.externalType&&"text"!==i.externalType&&"real"!==i.externalType&&"fixed"!==i.externalType&&"variant"!==i.externalType||i.type&&"text"!==i.type.id||n.push(new d(t,s.colForColIdx(t),i.externalType||"")))}for(let r of t)n.forEach(t=>{t.addValue(r[t.colIdx-1],e.cols[t.colIdx].externalType)});let i={};return n.forEach(e=>{let t=e.getType();t&&(i[e.colIdx]=t)}),i}}class d{getType(){let e=this.typeCounts,t=Object.keys(e),r=null,s=0;t.forEach(function(t){e[t]>s&&(r=t,s=e[t])});let i=this.colName.toLowerCase();if("number"===r&&"zip"===i&&(r="text"),!r){if("date"===this.externalType||"timestamp"===this.externalType){let e=n.g.createTypeForId("date");return e.date.showTime="timestamp"===this.externalType,e}return"boolean"===this.externalType?n.g.createTypeForId("bool"):i.endsWith("id")&&!i.endsWith("paid")||"zip"===i||-1===this.externalType.indexOf("int")&&-1===this.externalType.indexOf("float")?null:n.g.createTypeForId("number")}if("text"===r){let e=0,t=0;for(let r of Object.values(this.stringRepetitions))r>1&&e++,r>t&&(t=r);if(!(e>1)&&!(t>4))return null;r="category"}else if(e.text/this.values.length>.05)return null;return n.g.createTypeForId(r).updateFromRows(0,this.values,this.colName)}addValue(e,t){this.values.push([e]),"boolean"===this.externalType?this.addBool(e):"number"==typeof e?this.addNumber(e):e instanceof Date?this.addDate(e):this.addString(e,t)}addBigNumber(e){e.isFinite()&&(!e.isZero()&&e.lt(this.number.min)&&(this.number.min=e),!e.isZero()&&e.gt(this.number.max)&&(this.number.max=e),i.L.isFloat(e)?this.number.hasFloat=!0:this.number.hasInt=!0,this.typeCounts.number++)}addNumber(e){isFinite(e)&&(0!==e&&e<this.number.min.toNumber()&&(this.number.min=new s.O(e)),0!==e&&e>this.number.max.toNumber()&&(this.number.max=new s.O(e)),e%1!=0?this.number.hasFloat=!0:this.number.hasInt=!0,this.typeCounts.number++)}addDate(e){this.typeCounts.date++}addLink(e){this.typeCounts.link++}addJson(e){this.typeCounts.json++}addBool(e){this.typeCounts.bool++}addString(e,t){if(null===e)return void this.emptyCount++;let r=String(e),s=i.L.prototype.parse(r,t);if(null!=s)return void this.addBigNumber(s);let n=a.U.prototype.parse(r);if(null!=n)return void this.addDate(n.iso);let c=u.U.prototype.parse(r);return null!=c?void this.addLink(c):l.y.test(r)?void this.addJson(r):o.D.prototype.isValidValue(r)?void this.addBool(r):void(r?(this.typeCounts.text++,this.stringRepetitions[r]=(this.stringRepetitions[r]||0)+1):this.emptyCount++)}constructor(e,t,r){this.colIdx=e,this.colName=t,this.externalType=r,this.values=[],this.number={min:new s.O(Infinity),max:new s.O(-1/0),hasInt:!1,hasFloat:!1},this.currency={min:new s.O(Infinity),max:new s.O(-1/0),hasInt:!1,hasFloat:!1},this.typeCounts={number:0,date:0,currency:0,text:0,email:0,link:0,json:0,bool:0},this.stringRepetitions={},this.emptyCount=0}}},280426:function(e,t,r){r.d(t,{k:()=>i});var s=r(467131);let n=null,i={get:function e(){if(null==n){let t={stack:""};"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(t,e),s.cM.info("GlobalContext","getContext: global ctx not set",{stack:t.stack})}return n},set:function(e){n=e}}},255165:function(e,t,r){r.d(t,{oZ:()=>h});var s=r(18259),n=r(365526),i=r(280561),o=r(716155);let a=/^-?([$£€¥]?)(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function l(e){if(null===e)return NaN;let t=e.match(a);return null!=t?(t[1]&&(e=e.replace(t[1],"")),+e):NaN}function u(e){if(null===e)return new s.Z(NaN);let t=e.match(a);if(null==t)return new s.Z(NaN);{t[1]&&(e=e.replace(t[1],""));let r=new s.Z(e);return i.L.isExponentialNumberBeyondLimit(r)?new s.Z(NaN):r}}function c(e){return new n.I(e).year}function d(e){return 12*e.year+(e.month-1)}let h={generateHistograms:function(e,t){let r=e.totalRows||e.maxRow,i={number:!0,currency:!0,date:!0},a=[];for(let t=1;t<=e.maxCol;t++){let o=e.cols[t];if(!o.type||!i[o.type.id]||!o.stats||o.stats.maxValue==o.stats.minValue||r-o.stats.emptyCount-o.stats.invalidCount-o.stats.nullCount<2)continue;let g="date"===o.type.id,m="number",y=l,w=!1;function h(e){return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER}function p(e){return -1!==e.indexOf(".")&&e.length>=16}let b=()=>!h(+o.stats.minValue)||!h(+o.stats.maxValue),v=()=>p(o.stats.minValue)||p(o.stats.maxValue);if(g){let e=function(e,t){let r=new n.I(e),s=new n.I(t),i=s.valueOf()-r.valueOf();if(i>1&&i<32){var o;return{bucketType:"day",valueParser:(o=r.valueOf(),e=>new n.I(e).valueOf()-o)}}return 12*s.year+(s.month-1)-(12*r.year+(r.month-1))<24?{bucketType:"month",valueParser:function(e){let t=d(e);return e=>d(new n.I(e))-t}(r)}:r.year!=s.year?{bucketType:"year",valueParser:c}:null}(o.stats.minValue,o.stats.maxValue);if(null==e)continue;m=e.bucketType,y=e.valueParser}else(b()||v())&&(y=u,w=!0);let S=[new s.Z(y(o.stats.minValue)),new s.Z(y(o.stats.maxValue))];if(w&&(S[0].isEqualTo(NaN)||S[1].isEqualTo(NaN)))continue;let O=S[1].minus(S[0]);if(!g&&O.gte(1)&&(S[0]=S[0].integerValue(s.Z.ROUND_FLOOR),O=S[1].minus(S[0])),g&&O.eq(0))continue;let E=new s.Z(1),P=O.integerValue(s.Z.ROUND_CEIL);if(O.gt(32)){var f;(E=O.div(32).integerValue(s.Z.ROUND_CEIL)).gt(100)&&(E=(f=E).eq(0)?new s.Z(0):f.sd(2)),P=(P=O.div(E)).mod(1).eq(0)?P.plus(1):P.integerValue(s.Z.ROUND_CEIL)}else if(P=P.plus(1),!o.stats.onlyInt&&!g)for(;P.lt(9)&&(P=P.times(2),!E.isEqualTo(E.div(2)));){E=E.div(2);let e=S[0].plus(P.times(E)).minus(S[1]).div(E);e.gt(1)&&(P=P.minus(e.integerValue(s.Z.ROUND_FLOOR).minus(1)))}S[1]=S[0].plus(P.times(E));let _=[];for(let e=0;e<+P;e++)_.push(0);let T={bucketType:m,range:S,interval:E,counts:_};a.push({colIdx:t,valueParser:y,bigNumbers:w,histogram:T})}return new o.k(e,t).rowStream().then(t=>t.readRows((e,t)=>{if(1==t)return!1;a.forEach(t=>{if(!0===t.bigNumbers){let r=t.valueParser(e[t.colIdx-1]);if(r.isFinite()){let e=r.minus(t.histogram.range[0]).div(t.histogram.interval).integerValue(s.Z.ROUND_FLOOR);t.histogram.counts[+e]++}}else{let r=t.valueParser(e[t.colIdx-1]);if(isFinite(r)){let e=Math.floor((r-t.histogram.range[0].toNumber())/t.histogram.interval.toNumber());t.histogram.counts[e]++}}})}).then(()=>(a.forEach(t=>{let r=t.colIdx;e.cols[r].stats.histogram=t.histogram}),e)))}}},115499:function(e,t,r){r.d(t,{ey:()=>u,ku:()=>c,pO:()=>d});var s=r(909896),n=r(655460),i=r(255165),o=r(716155),a=r(294756);function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}async function u(e,t,r,a,l=!0){let d=new o.k(e,r,{detectors:[new n.f,new s.n],includeBlankRows:!0}),h=await d.rowStream(),p=new o.v(a,t,{generateStats:!0,keepStats:!0,shouldUpdateWidths:l,useNullPlaceholder:!!r});return e=await p.writeStream(h,-1,!0),e=c(e=await i.oZ.generateHistograms(h.sheet,r))}function c(e){let t=a.e.ColNames.fromSheet(e);for(let r=1;r<=e.maxCol;r++)e.cols[r].name=t.colForColIdx(r);return e}function d(e,t){let r=t.filter(e=>"formatCol"===e.type);if(!r.length)return e;(e=l({},e)).cols=l({},e.cols);let s=a.e.ColNames.fromSheet(e);for(let t of r){let r=s.colIdxForCol(t.col);if(r<1)continue;let n=e.cols[r];(n=l({},n)).type=t.colType,e.cols[r]=n}return e}},501101:function(e,t,r){r.d(t,{K:()=>g});var s=r(18259);class n{add(e){this.keyCountMapping.has(e)||this.keyCountMapping.set(e,0),this.keyCountMapping.set(e,this.keyCountMapping.get(e)+1)}getCount(e){var t;return null!=(t=this.keyCountMapping.get(e))?t:0}map(e){let t=[],r=0;for(let[s,n]of this.keyCountMapping.entries())t.push(e(s,n,r)),r++;return t}get size(){return this.keyCountMapping.size}constructor(){this.keyCountMapping=new Map}}var i=r(280561),o=r(77468),a=r(551727),l=r(556466),u=r(222439),c=r(173550),d=r(706210),h=r(399826);function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}class g{static jsonType(e){return null===e?"null":"undefined"===e?"undefined":Array.isArray(e)?"array":typeof e}static getSortedCategoriesWithCount(e){let t=e.map((e,t)=>({category:e,count:t}));return t.sort((e,t)=>t.count-e.count),t}export(){return f(p({},this.stats,this.exportCategoriesStats()),{jsonStats:this.exportJsonStats(),minValue:String(this.minValue),maxValue:String(this.maxValue),onlyInt:this.count>0&&!!this.stats.onlyInt})}exportCategoriesStats(){if(this.stats.categoryCount>1e4||this.stats.invalidCategoryCount>0)return{categories:null,categoryCount:0};let e=g.getSortedCategoriesWithCount(this.categoriesCounter);return{categories:e.slice(0,a.a.MAX_ITEMS),categoryCount:e.length}}exportJsonStats(){let e=g.getSortedCategoriesWithCount(this.jsonCounters.types),t=g.getSortedCategoriesWithCount(this.jsonCounters.keys),r=g.getSortedCategoriesWithCount(this.jsonCounters.values).map(e=>f(p({},e),{category:e.category.slice(0,c.a.STATS_MAX_VALUE_LENGTH)}));return{typeCount:e.length,types:e,keyCount:t.length,keys:t.slice(0,c.a.STATS_MAX_KEYS),valueCount:r.length,values:r.slice(0,c.a.STATS_MAX_VALUES)}}addValue(e){if(this.count++,""===e)return void this.stats.emptyCount++;if(null===e||this.options.useNullPlaceholder&&e===h.L)return void this.stats.nullCount++;if(!this.type.isValidValue(e))return void this.stats.invalidCount++;if(!(this.type instanceof d.y)){if(this.type instanceof c.a){let t=this.type.getNativeValue(e),r=g.jsonType(t);if(this.jsonCounters.types.add(r),"object"===r)Object.keys(t).forEach(e=>{this.jsonCounters.keys.add(e)});else if("string"===r||"number"===r||"boolean"===r){let e=String(t);this.jsonCounters.values.add(e)}return}if((this.type instanceof a.a||this.type instanceof o.D)&&this.stats.categoryCount<=1e4)return void(a.a.isCategorical(e)?(this.stats.categoryCount=this.categoriesCounter.size,this.categoriesCounter.add(e)):this.stats.invalidCategoryCount++);if(this.type instanceof u.V){let t=this.type.getNativeValue(e);t.domain&&this.categoriesCounter.add(t.domain)}if(this.type instanceof i.L){let t=new s.Z(e);if(i.L.isExponentialNumberBeyondLimit(t)){this.stats.invalidDueToExceedingBigNumberRange=!0;return}this.computeStatsForBigNumberValue(t)}else{let t=this.type.getSortableValue(e);this.computeStatsForNativeValue(t)}}}computeStatsForNativeValue(e){if((""===this.minValue||e<this.minValue)&&(this.minValue=e),(""===this.maxValue||e>this.maxValue)&&(this.maxValue=e),this.type instanceof i.L||this.type instanceof l.V)if(null==this.stats.onlyInt&&(this.stats.onlyInt=!0),e%1!=0&&(this.stats.onlyInt=!1),null==this.stats.total)this.stats.total=e;else{let t=this.stats.total+e;if(!(t>=Number.MIN_SAFE_INTEGER)||!(t<=Number.MAX_SAFE_INTEGER))return!1;this.stats.total=t}return!0}computeStatsForBigNumberValue(e){if((""===this.minValue||e.lt(this.minValue))&&(this.minValue=e),(""===this.maxValue||e.gt(this.maxValue))&&(this.maxValue=e),this.type instanceof i.L||this.type instanceof l.V)if(null==this.stats.onlyInt&&(this.stats.onlyInt=!0),i.L.isFloat(e)&&(this.stats.onlyInt=!1),null==this.stats.total)this.stats.total=e;else{if(i.L.isExponentialNumberBeyondLimit(this.stats.total)){this.stats.invalidDueToExceedingBigNumberRange=!0;return}this.stats.total instanceof s.Z?this.stats.total=this.stats.total.plus(e):this.stats.total=new s.Z(this.stats.total).plus(e)}}constructor(e,t={}){this.stats={emptyCount:0,invalidCount:0,nullCount:0,categoryCount:0,invalidCategoryCount:0,total:null,onlyInt:null,minimumDecimalDigits:0,jsonStats:{typeCount:0,types:[],keyCount:0,keys:[],valueCount:0,values:[]},invalidDueToExceedingBigNumberRange:!1},this.count=0,this.categoriesCounter=new n,this.jsonCounters={types:new n,keys:new n,values:new n},this.options={useNullPlaceholder:!1},this.minValue="",this.maxValue="",this.type=e||new d.y,this.options=p({},this.options,t)}}},917044:function(e,t,r){r.d(t,{$:()=>i});class s{writeRow(e){return this.rowStream?this.rowStream.writeRow(e):(this.rowBuffer.push(e),this.rowBuffer.length>=this.bufferSize&&this.createRowStream(),!1)}createRowStream(){try{this.rowStream=this.rowStreamForBuffer(this.rowBuffer);for(let e=0;e<this.rowBuffer.length;e++)this.rowStream.writeRow(this.rowBuffer[e])}catch(e){this.error(e)}}close(){this.rowStream||this.createRowStream(),this.rowStream.close()}error(e){this.rowStream?this.rowStream.error(e):this.errorHandler&&this.errorHandler(e)}constructor(e,t,r){this.bufferSize=e,this.rowStreamForBuffer=t,this.errorHandler=r,this.rowBuffer=[],this.rowStream=null}}var n=r(690804);class i extends n.A{writeRow(e){return this.bufferStream?!!this.bufferStream.writeRow(e)||void 0:(this.rowIdx++,this.rowIdx>1&&this.shouldNormalizeRows&&this.normalizers.forEach(t=>t.normalizeRow(this.sheet,e)),super.writeRow(e))}close(){this.bufferStream?this.bufferStream.close():super.close()}constructor(e,t,r,n=!0){super(e,t),this.normalizers=r,this.rowIdx=0,this.shouldNormalizeRows=n,this.bufferStream=new s(100,r=>{let s=r.slice(1);return this.normalizers.forEach(r=>r.normalizeSheet(e,s,t)),this.bufferStream=null,this},this.error.bind(this))}}},690804:function(e,t,r){r.d(t,{A:()=>s});class s{static from(e){let t=new s;return Object.assign(t,e),t}writeRow(e){if(this.closed)return void console.error("RowStream already closed");if(this.iter){if(this.iterRowIdx++,this.iter(e,this.iterRowIdx))return this.close(),!0}else this.buffered.push(e)}readRows(e){return this._error?Promise.reject(this._error):(this.iter=e,new Promise((t,r)=>{this.resolve=t,this.reject=r;let s=this.closed;if(this.buffered){for(let t=0;t<this.buffered.length;t++)if(this.iterRowIdx++,e(this.buffered[t],this.iterRowIdx)){this.close();break}delete this.buffered}s&&t(void 0)}))}error(e){this._error=e,this.reject&&this.reject(e)}close(){this.closed||(this.resolve&&this.resolve(void 0),this.closed=!0)}constructor(e,t){this.sheet=e,this.colNames=t,this.buffered=[],this.closed=!1,this.iterRowIdx=0}}},716155:function(e,t,r){r.d(t,{k:()=>_,v:()=>R});var s=r(280561),n=r(556466),i=r(963837);let o=/^(#)?([,\.])?(##)?(0+)(\.0+)?(%|\\%)?$/,a=/^"?([\$¥£€])/;class l{getTypes(e,t){let r=[];for(let t=1;t<=e.maxCol;t++){let s=e.cols[t];if(s.style){let n=e.styles[s.style];r.push(new u(t,n))}}let s={};return r.forEach(e=>{let t=e.getType();t&&(s[e.colIdx]=t)}),s}}class u{getType(){return this.detectCurrency(this.style)||this.detectNumber(this.style)||this.detectDate(this.style)||null}detectNumber(e){let t=e.fmt.default,r=e.fmt.type,n=e.align,i=t.match(o);if(!i&&"num"!==r||"num"===r&&"@"===t&&"left"===n)return null;let a=new s.L;return i?a.update({precision:i[5]?i[5].length-1:0,thousandsSep:i[2]?i[2]:"",isPercent:!!i[6]}):a}detectDate(e){return"date"!==e.fmt.type?null:new i.U}detectCurrency(e){return e.fmt.default.match(a)?new n.V:null}constructor(e,t){this.colIdx=e,this.style=t}}var c=r(859399);let d={Decoder:class e{consumeChunk(e){let t=this.chunk+e,r=this.latestValues,s=!1,n=0;for(let e=0;e<t.length;e++){let i=t[e];if(s){if('"'==i&&e<t.length-1){let i=t[e+1];'"'==i?e++:(","==i||"\n"==i)&&(r.push(t.substring(n+1,e).replace(/""/g,'"')),"\n"==i&&(this.cb(r),r=[]),n=++e+1,s=!1)}}else"\n"==i?(r.push(t.substring(n,e)),this.cb(r),r=[],n=e+1):","==i?(r.push(t.substring(n,e)),n=e+1):'"'==i&&(s=!0)}this.chunk=t.substr(n),this.latestValues=r}close(){this.chunk&&this.consumeChunk("\n")}constructor(e){this.cb=e,this.chunk="",this.latestValues=[]}}};var h=r(467131);class p{incrementColStyleCount(e,t){this.colStyleCounter[e]||(this.colStyleCounter[e]={}),null==this.colStyleCounter[e][t]?this.colStyleCounter[e][t]=1:this.colStyleCounter[e][t]++}normalizeSheet(e){let t=this.colStyleCounter;Object.keys(t).forEach(r=>{let s=t[r],n=null,i=0;Object.keys(s).forEach(function(e){let t=s[e];t>i&&(n=e,i=t)}),n&&(e.cols[r].style=Number(n))})}normalizeRow(){}constructor(){this.colStyleCounter={}}}var f=r(706210);class g{normalizeSheet(e,t,r){for(let t=1;t<=e.maxCol;t++)!e.cols[t].type&&(this.colsToNormalize.includes(t)||this.colsToNormalize.push(t));let s={};for(let n of(this.detectors.forEach(n=>{let i=n.getTypes(e,t,this.colsToNormalize,r);for(let t of this.colsToNormalize)null!=i[t]&&(s[t]=i[t],e.cols[t].type=i[t])}),this.colsToNormalize))delete e.cols[n].style,e.cols[n].type||(e.cols[n].type=new f.y);this.colTypes=c.g.generateTypes(e)}normalizeRow(e,t){for(let e=0;e<this.colsToNormalize.length;e++){let r=this.colsToNormalize[e],s=r-1;t[s]=this.colTypes[r].getStringValue(t[s])}}constructor(e,t=[]){this.detectors=e,this.colTypes={},this.detectors=e,this.colsToNormalize=t}}var m=r(399826),y=r(294756),w=r(146838),b=r(501101);class v{addValues(e){for(let t=0;t<e.length;t++)this.stats[t+1].addValue(e[t])}save(){for(let e=1;e<=this.sheet.maxCol;e++){let t=this.stats[e].export(),r=this.sheet.cols[e];r.stats=t,"category"===r.type.id&&null==t.categories&&(r.type.id="text")}}constructor(e,t={}){this.sheet=e,this.stats={};for(let s=1;s<=e.maxCol;s++){var r;this.stats[s]=new b.K(null==(r=e.cols[s])?void 0:r.type,t)}}}var S=r(917044),O=r(690804);function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}let P=500/3;class _{rowStream(e={}){let t=e.headerRow||1,r=this.sheet,s=this.blobClient,n=this.options,i=!!n.includeBlankRows;return new Promise(function(o,a){let u=null,c=0,f=new p;function w(t){let s=new y.e.ColNames(t);if(m.J.isTypedSheet(r))u=new O.A(r,s);else{let t=n.detectors||[new l],i=n.normalizers||[f,new g(t)];u=new S.$(r,s,i,e.shouldNormalizeRows)}return o(u),u.writeRow(u.colNames.names())}if(0==t){let e=[];for(let t=0;t<r.maxCol;t++)e.push("");w(e)}function b(e){if(u&&u.closed)return!0;if(++c<t)return!1;for(let t=e.length;t<r.maxCol;t++)e.push("");if(c===t)return w(e);for(let t=0;t<e.length;t++)if(i||""!==e[t])return u.writeRow(e);return!1}function v(){if(!u)return void a(Error("Cannot create row stream. Sheet is empty."));u.closed||u.close()}if(r.rows){for(let e=1;e<=r.maxRow;e++){let t=r.rows[e],s=[];if(void 0!==t&&void 0!==t.cells)for(let e=1;e<=r.maxCol;e++){let r=t.cells[e];void 0!==r&&""!==r.v?(s.push(r.v),r.s&&f.incrementColStyleCount(e,r.s)):s.push("")}if((s.length>0||i)&&b(s))break}v()}else{if(!s)return v();s.read(r.rowsBlob,function(e){if(200!=e.statusCode)return void a(Error("Received bad status code ("+e.statusCode+") for rowsBlob: "+r.rowsBlob));e.setEncoding("utf8");let t=new d.Decoder(b);e.on("data",function(e){t.consumeChunk(e)}),e.on("end",function(){t.close(),v()}),e.on("error",function(e){h.cM.error(Error("Received blob read error for "+r.rowsBlob+": "+e)),u?u.error(e):a(e)})})}})}constructor(e,t,r){this.sheet=e,this.blobClient=t,this.options=r,e=E({},e);let s={};for(let t=1;t<=e.maxCol;t++){let r=E({},e.cols[t]);r||(r={}),r.type&&(r.type=c.g.objectToType(r.type)),s[t]=r}e.cols=s;let n=[];for(let t=0;t<e.styles.length;t++){let r=y.e.simplifyStyle(e.styles[t]);r.fmt.default.match(/[0#]/)||"date"==r.fmt.type?r.align="right":r.align="left",n.push(r)}e.styles=n,this.sheet=e,this.options=E({detectors:null,normalizers:null},r)}}let T={generateStats:!1,keepStats:!1,shouldUpdateWidths:!0,useNullPlaceholder:!1};class R{writeStream(e,t=-1,r=!1){var s;let n=this.options.generateStats,i=this.options.keepStats,o=e.sheet,a={cols:o.cols,maxCol:o.maxCol,maxRow:0,styles:o.styles,properties:{ySplit:1,defaultRowHeight:28},parameters:o.parameters},l=null==(s=o.parameters)?void 0:s.time_output_format;return void 0===t&&(t=-1),new Promise((s,o)=>{let u=null,d=null;this.blobClient?(delete a.rows,d=this.blobClient.startWrite(function(e){o(e)})):a.rows={};let h={},p={},f=0;for(let e=1;e<=a.maxCol;e++)h[e]={maxWidth:0,rowsTouched:0,rowsChecked:0};let g=null,y=null;e.readRows(e=>{if(null===g){g=[];for(let e=0;e<a.styles.length;e++)g.push(E({},a.styles[e]));w.r.processStyles(g),y=c.g.generateColStyles(a.cols,l)}let s=!1,i=0;for(;i<e.length;i++)if(e[i]||null===e[i]){s=!0;break}if(!s&&!r)return!1;if(a.maxRow++,!u&&n&&(u=new v(a,{useNullPlaceholder:this.options.useNullPlaceholder})),this.options.shouldUpdateWidths&&f<a.maxCol)for(let t=1;t<=e.length;t++){let r=h[t];if(r.rowsChecked>=100||r.rowsTouched>=1e3){!p[t]&&(p[t]=!0,f++);continue}this.updateColWidth({i,sheet:a,values:e,styles:g,colTypeStyles:y,colIdx:t,colWidthCount:r})}if(u&&a.maxRow>1&&u.addValues(e),d){let t=[];for(let r=0;r<e.length;r++){var o,b;o=t,(b=e[r]).match(I)&&(b='"'+b.replace(/"/g,'""')+'"'),o.push(b)}d.write(t.join(",")+"\n")}else(-1==t||a.maxRow<=t+1)&&(a.rows[a.maxRow]=m.J.sheetRowForValues(e));return!(t>-1)&&!1}).then(()=>{if(-1===t)a.totalRows=a.maxRow;else if(a.maxRow>t){for(let e=a.maxRow;e>t;e--)delete a.rows[e];a.totalRows=a.maxRow,a.maxRow=t}if(u?u.save():u||i||m.J.removeColStats(a),this.options.shouldUpdateWidths)for(let e=1;e<=a.maxCol;e++){let t=h[e].maxWidth,r=a.cols[e].type,s=y[e],n=a.cols[e].stats;r&&"category"===r.id&&n&&n.categories&&(t=this.updateWidthForCategoricalCol({categories:n.categories,colStyle:s,sheet:a,currColWidth:h[e].maxWidth})),t>0?a.cols[e].width=t:delete a.cols[e].width}this.blobClient?this.blobClient.endWrite(d,function(e){a.rowsBlob=e,s(a)}):s(a)}).catch(function(e){o(e)})})}measureText(e,t,r){let s=r?e:m.J.formatCellValue(e,t);return!s||s.length<8?0:s.length>P?500:r?y.e.colHeaderWidth(this.ctx,s):y.e.colWidth(this.ctx,s)}updateColWidth(e){let{i:t,sheet:r,values:s,styles:n,colTypeStyles:i,colIdx:o,colWidthCount:a}=e,l=s[o-1];if("string"!=typeof l&&null!==l&&h.cM.warn(`Invalid value in row ${t+1}, values:${s}`),void 0===l||""===l)return void a.rowsTouched++;let u=n[r.cols[o].style||0];if(1==r.maxRow?u=y.e.simplifiedHeaderStyle:i[o]&&(u=i[o]),a.maxWidth<500){let e=Math.min(this.measureText(l,u,1==r.maxRow),500);e>a.maxWidth&&(a.maxWidth=e)}a.rowsChecked++,a.rowsTouched++}updateWidthForCategoricalCol(e){let{categories:t,colStyle:r,sheet:s,currColWidth:n}=e,i=n;for(let e=0;e<t.length;e++){let n=t[e].category,o=this.measureText(n,r,1==s.maxRow);if(o>=500){i=500;break}o>i&&(i=o)}return i}constructor(e,t,r={}){this.blobClient=e,this.ctx=t,this.options=T,this.options=E({},this.options,r)}}let I=/[",\n]/},553086:function(e,t,r){r.d(t,{p:()=>s,D:()=>i});class s{wait(e){let t=Date.now();if(this.maybeUpdateBucketStart(t),this.numRequests<this.rps)return this.numRequests+=1,Promise.resolve();{var r,s;let t=new Promise(e=>{this.queuedResolvers.push(e)}),n="";return this.isLoggingEnabled&&void 0!==e&&(n=this.tryNormalizeUrl(e)),!this.timer&&(this.timer=window.setTimeout(this.onTimer,1e3),this.isLoggingEnabled&&(null==(r=this.logger)||r.addAction("rate-limiter-start-queuing",{url:e,urlGroup:n}))),this.isLoggingEnabled&&(null==(s=this.logger)||s.addAction("rate-limiter-queues-request",{url:e,urlGroup:n})),t}}tryNormalizeUrl(e){try{return i(e)}catch(r){if(this.isLoggingEnabled){var t;null==(t=this.logger)||t.addAction("rate-limiter-normalizing-url-error",{url:e})}return""}}maybeUpdateBucketStart(e){let t=e-e%1e3;this.bucketStart!==t&&(this.bucketStart=t,this.numRequests=0)}constructor(e,t){this.onTimer=()=>{for(window.clearTimeout(this.timer),this.timer=void 0,this.maybeUpdateBucketStart(Date.now());this.queuedResolvers.length>0&&this.numRequests<this.rps;){let e=this.queuedResolvers.shift();e&&(e(),this.numRequests+=1)}if(this.queuedResolvers.length>0)this.timer=window.setTimeout(this.onTimer,1e3);else if(this.isLoggingEnabled){var e;null==(e=this.logger)||e.addAction("rate-limiter-queue-cleared")}},this.rps=e,this.queuedResolvers=[],this.numRequests=0,t?(this.logger=t,this.isLoggingEnabled=!0):this.isLoggingEnabled=!1}}let n=new Set(["","a","account-url","add-new-session","all-roles","applica","avatarPreview","avatars","billing","blobs","bootstrap","bootstrap-data-request","browse","catalog","charts","check","check-user-session","cmdline","columns","complete-oauth","complete-secret","console","consumerbillingcontact-mc","consumerrequest-mc","copilot","cortex-chat","credit-card","csv-download","dashboard","databases","datadictionary","debug","delta","dev","download","dx","entities","errors","events","exchange-mc","featured-objects","feedback","fetch-account-deployment-info","fetch-account-deployment-info-from-url","fetch-bootstrap-data","fetch-extended-bootstrap-data","fetch_iframe.html","files","folders","generate-completion","get-regions-detail","get-semantic-models","guest","healthcheck","inline-completion","internal","list","listing","marketplace","members","members-search","modify-parameters","notification-contacts","null","oauth","object-details","objects","onboarding","open-graph","organizations","param","payment-method","pinned-objects","pprof","prefs","preview","profile","profile-image","provider-studio","published-preview","queries","query","readiness","refresh-catalog","request","resources","result","role-permissions","roles","run-query","search","send-feedback","sendValidationEmail","session","sessions","settings","setup-intent","sf","shared-object-list","signout","signout-account","sitemap.xml","smart-tags","snowflake","snowscope","start-oauth","start-redirect-oauth","stream","stripe-redirect","suggest","symbol","sync-snowflake-user-and-org","table-preview","terms-and-billing","timing","trace","transform","trial-extension","update-custom-instructions","update-database-schema","update-num-classic-ui-worksheets","update-reference-worksheet-setting","update-sample-data-setting","update-semantic-model","upload","v0","validate-snowflake-account-region","validate-snowflake-url","view-result-grants","views","warehouses","worksheet","worksheets-download"]);function i(e){let t=new URL(e),r=t.searchParams.get("desc"),s=r?`?desc=${r}`:"";return t.pathname.split("/").map(e=>n.has(e)?e:":unknown").join("/")+s}},888890:function(e,t,r){r.d(t,{$D:()=>u,Bq:()=>s,GF:()=>l,Jk:()=>i,XW:()=>o,dR:()=>c,q$:()=>d,rJ:()=>a,sM:()=>n});let s="ALL",n="NONE",i="ACCOUNTADMIN",o="GLOBALORGADMIN",a="ORGADMIN",l="SECURITYADMIN",u="PUBLIC",c="SYSADMIN",d="USERADMIN"},117043:function(e,t,r){r.r(t),r.d(t,{nufetchForm:()=>I,handleBootstrapResponse:()=>k,uploadFormWithProgress:()=>_,testing:()=>E,nufetch:()=>R,uploadFileWithProgress:()=>T,simpleBootstrap:()=>x,bootstrap:()=>C});var s=r(54649),n=r(467131),i=r(207055),o=r.n(i),a=r(383151),l=r(955348),u=r(134037),c=r(743767),d=r(374318),h=r(553086);let p="Content-Type";var f=r(900061),g=r(116737),m=r(206e3),y=r(134496),w=r(634327);function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}let v={},S=new h.p(20);function O(e,t){if(!t||!e)return e;let r=e.split("\n"),s=t.split("\n");if(!(r.length>0)||!(s.length>0))return e;{let e=r[0];return s[0]=e,r[1]&&s.splice(1,1,r[1]),s.join("\n")}}let E={constructSyntheticStack:O};async function P(e,t,r,s){var i,l;let[c,d]=(0,u.h)(e,t,o()(null!=r?r:{}),n.cM);if(a.T.csrfToken)if(a.T.appServerUrl!==e.appServerUrl&&e.isSecondaryUser){let t=v[e.appServerUrl];if(!t){let r=await fetch(e.appServerUrl+"/bootstrap",c);200===r.status&&(t=(await r.json()).PageParams.csrfToken,v[e.appServerUrl]=t)}d[u.x.csrfToken]=t}else d[u.x.csrfToken]=a.T.csrfToken;return"string"==typeof s&&(d[w.s8]=(0,w.t9)(s)),i=b({},c),l=l={headers:d},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i}async function _({path:e,requestContext:t,formData:r,signal:s,onProgress:n=()=>void 0,versionPrefix:i="/v0"}){return await new Promise(async(o,l)=>{var u,h;if(null==s?void 0:s.aborted)return l(new c._);let p=new XMLHttpRequest;function f(){p.abort()}let m=()=>{let e;try{var t,r;let s=JSON.parse(p.responseText);e=null!=(r=null==s||null==(t=s.error)?void 0:t.message)?r:p.responseText}catch(t){e=p.responseText||"Unknown error"}l(new d.M(p.status,{message:e}))};p.upload.addEventListener("progress",e=>n({progress:e.loaded/e.total})),p.addEventListener("load",()=>{if(p.status>=200&&p.status<400)return o(p.response);m()}),p.addEventListener("abort",()=>l(new c._)),p.addEventListener("error",m),p.addEventListener("timeout",()=>l(Error(p.responseText))),s&&(s.addEventListener("abort",f),p.addEventListener("readystatechange",()=>{p.readyState===XMLHttpRequest.DONE&&s.removeEventListener("abort",f)}));let y=null==(h=a.X.pageState)||null==(u=h.user)?void 0:u.id,w=await P(t,y),b=(0,g.o)(e,t,i);for(let[e,t]of(p.open("POST",b,!0),p.withCredentials=!0,Object.entries(w.headers)))p.setRequestHeader(e,t);p.send(r)})}async function T({path:e,requestContext:t,formData:r,file:s,signal:n,onProgress:i=()=>void 0,versionPrefix:o="/v1"}){return await new Promise(async(l,u)=>{var h,p;if(null==n?void 0:n.aborted)return u(new c._);let f=new XMLHttpRequest;function m(){f.abort()}let y=()=>{let e;try{var t,r;let s=JSON.parse(f.responseText);e=null!=(r=null==s||null==(t=s.error)?void 0:t.message)?r:f.responseText}catch(t){e=f.responseText||"Unknown error"}u(new d.M(f.status,{message:e}))};f.upload.addEventListener("progress",e=>i({progress:e.loaded/e.total})),f.addEventListener("load",()=>{if(f.status>=200&&f.status<400)return l(f.response);y()}),f.addEventListener("abort",()=>u(new c._)),f.addEventListener("error",y),f.addEventListener("timeout",()=>u(Error(f.responseText))),n&&(n.addEventListener("abort",m),f.addEventListener("readystatechange",()=>{f.readyState===XMLHttpRequest.DONE&&n.removeEventListener("abort",m)}));let w=null==(p=a.X.pageState)||null==(h=p.user)?void 0:h.id,b=await P(t,w),v=new URLSearchParams;r.forEach((e,t)=>{v.append(t,e.toString())});let S=`${e}?${v.toString()}`,O=(0,g.o)(S,t,o);for(let[e,t]of(f.open("POST",O,!0),f.withCredentials=!0,Object.entries(b.headers)))f.setRequestHeader(e,t);f.setRequestHeader("Content-Type","application/octet-stream"),f.send(s)})}async function R(e,t,r,i,o,u){var c,h,w,v;if(u){if(void 0!==r)throw Error("nufetch does not support `providedOptions` with `prefetchedResponse`");if(void 0!==i)throw Error("nufetch does not support `versionPrefix` with `prefetchedResponse`");if(void 0!==o)throw Error("nufetch does not support `canGuestFetch` with `prefetchedResponse`")}if((a.X.pageIsInvalid||(null==(h=a.X.stores)||null==(c=h.user)?void 0:c.signoutInProgress))&&"/signout"!=e&&"/signout-account"!=e)return new Promise((e,t)=>{});let E=Error("synthetic error"),_=(0,g.o)(e,t,i,o),T=a.X.pageState&&a.X.pageState.user&&a.X.pageState.user.id,R=await P(t,T,r,_);try{let r=!1;try{r=null!=(w=(0,y._)("UI_ENABLE_UI_PLATFORM_FEATURE_31"))&&w}catch(e){n.cM.error(e,{sourceName:"snowFetch"})}r||["/snowscope/search","/snowscope/suggest"].includes(e)||await S.wait();let i=u?await u:await (0,f.A)(t.appServerUrl)(_,R);if(i.status>=200&&i.status<300){let t=i.headers.get("X-Numeracy-Version");if(t&&t!==a.X.latestClientVersion&&(a.X.latestClientVersion=t,a.X.latestClientVersionChanged=new Date),"Immediate"===i.headers.get("X-Reload")&&window.location.reload(),204==i.status||"0"===i.headers.get("Content-Length"))return i;try{let e=i.headers.get("Content-Disposition");if(e&&/attachment/.test(e))return await (0,m.Sv)(i),{};let t=i.headers.get(p);if(t&&"text/plain"===t)return{textContent:await i.text()};if(t&&"text/event-stream"===t&&i.body)return i;if(t&&/image/.test(t))return await i.blob();return await i.json()}catch(t){throw n.cM.error(t,{message:"nufetch: exception reading JSON from non-error response (download file)",extra:{path:e,statusCode:i.status}}),new d.M(i.status,{type:s.ErrorType.apps,code:s.AppsErrorCode.FailedToParseJSON})}}{let t,r=i.headers.get("X-Snowflake-Request-ID");try{if((null==(v=i.headers.get(p))?void 0:v.indexOf("text/plain"))!==-1)t={message:await i.text(),requestId:r};else{let e=await i.json();t=b({requestId:r},e)}}catch(t){throw e&&-1!==e.indexOf("/timing")&&403===i.status||n.cM.error(t,{message:"nufetch: exception reading non-error response",extra:{path:e,statusCode:i.status,responseLength:i.headers.get("Content-Length"),snowflakeRequestId:r}}),new d.M(i.status,{type:s.ErrorType.apps,code:s.AppsErrorCode.FailedToParseJSON})}throw new d.M(i.status,t)}}catch(e){if(e instanceof d.M){if(e.code===s.AppsErrorCode.UserLoggedOut)t.isSecondaryUser||null==T||(a.X.pageIsInvalid=!0,window.location.href=window.location.origin);else if(e.code==s.AppsErrorCode.NotProvisioned)return a.T.notProvisioned=!0,window.location.reload(),new Promise((e,t)=>{});else if(e.code===s.AppsErrorCode.NetPolicyFailed)return a.X.pageIsInvalid=!0,a.X.stores&&a.X.stores.globalError.setAccessError(e),new Promise((e,t)=>{})}else(0,l.eE)(e,{"error.kind":"network","error.code":"unknown"});throw e.stack=O(e.stack,E.stack),e}}function I(e,t,r,s){let n=Object.assign({},r);return"string"==typeof n.body&&(n.headers||(n.headers={}),n.headers=n.headers,n.headers[p]||(n.headers[p]="application/x-www-form-urlencoded")),R(e,t,n,s)}let A={User:"user",PageType:"pageType",PageParams:"pageParams",Error:"error"};async function C(e,t=""){return k(await x(e,t))}function k(e){let t=e.redirect;if(t)return window.location.href=t,new Promise(()=>{});for(let t in e){let r=A[t];r&&(window[r]=e[t])}return e}async function x(e,t=""){return R(`/bootstrap${t}`,e,void 0,"",!1)}window.numeracy.tests={testhealthcheck:async e=>{try{let t=await R(`/healthcheck?check=${e}`,window.numeracy.stores.user.userRequestContext());console.log(t)}catch(e){console.error(e)}}}},116737:function(e,t,r){r.d(t,{o:()=>o});var s=r(383151),n=r(616821),i=r(238257);function o(e,t,r="/v0",a=!0){var l,u;let c=!!(null==(u=s.X.stores)||null==(l=u.user)?void 0:l.isGuestUser)||!!t.isGuest,d=(0,i.r)(window.location.hostname),h=c&&a&&!d,p=h&&!(0,n.WC)()?"":t.appServerUrl;return`${p}${r}${h?"/guest":""}${e}`}},662839:function(e,t,r){r.d(t,{i:()=>n});var s=r(888890);function n(e){return!!e&&0!==e.length&&(e.includes(s.Jk)||e.includes(s.XW))}},613752:function(e,t,r){r.d(t,{j:()=>n});var s=r(888890);function n(e){return!!e&&0!==e.length&&(e.includes(s.rJ)||e.includes(s.XW))}},311636:function(e,t,r){r.d(t,{w:()=>n});var s=r(888890);function n(e){return!!e&&0!==e.length&&e.includes(s.GF)}},993914:function(e,t,r){r.d(t,{e:()=>i});var s=r(374318);let n=["TypeError: Failed to fetch","Failed to fetch","NetworkError when attempting to fetch resource.","Load failed"],i=e=>!(e instanceof s.M)&&e instanceof Error&&!!e.message&&n.includes(e.message)},438635:function(e,t,r){r.d(t,{h:()=>n});var s=r(888890);function n(e){return!!e&&(e===s.Jk||e===s.XW)}},83980:function(e,t,r){r.d(t,{l:()=>n});var s=r(888890);function n(e){return!!e&&(e===s.rJ||e===s.XW)}},844699:function(e,t,r){r.d(t,{E:()=>n});var s=r(888890);function n(e){return!!e&&e===s.GF}},634327:function(e,t,r){r.d(t,{s8:()=>s,sO:()=>i,t9:()=>o});let s="X-Snowflake-Page-Source",n={};function i(e){return n=e,()=>{n={}}}function o(e){let t="unknown";try{new URL(e,window.location.origin).pathname.startsWith("/v0")&&(t=function(){let{page:e,pageType:t}=n;return"dashboard"===t?"dashboard":"query"===t?"worksheet":"folder"===t&&("worksheets"===e||"dashboards"===e)?e:"unknown"}())}catch(e){}return t}},60090:function(e,t,r){r.d(t,{P:()=>i});var s=r(616821),n=r(15150);let i=()=>(0,s.WC)()&&!!localStorage.getItem(n.F.SNOWSIGHT_DEVELOPER_TOOLS)},805018:function(e,t,r){r.d(t,{D:()=>s});function s(e,t,r){let s,n,i,o,a,l=function(){let u=new Date().getTime()-o;u<t&&u>=0?s=setTimeout(l,t-u):(s=null,!r&&(a=e.apply(i,n),s||(i=n=null)))},u=function(...u){i=this,n=arguments,o=new Date().getTime();let c=r&&!s;return s||(s=setTimeout(l,t)),c&&(a=e.apply(i,n),i=n=null),a};return u.cancel=function(){clearTimeout(s),s=null},u}},480336:function(e,t,r){r.d(t,{W:()=>i});var s=r(440528),n=r.n(s);function i(e){return n().h32(e,0xdeadbeef).toString(16)}},642261:function(e,t,r){r.d(t,{P:()=>s});function s(e,t,r){let s,n,i,o,a=0;r||(r={});let l=function(){a=(null==r?void 0:r.leading)===!1?0:new Date().getTime(),s=0,o=e.apply(n,i),s||(n=i=null)},u=function(){let u=new Date().getTime();a||(null==r?void 0:r.leading)!==!1||(a=u);let c=t-(u-a);return n=this,i=arguments,c<=0||c>t?(s&&(clearTimeout(s),s=0),a=u,o=e.apply(n,i),s||(n=i=null)):s||(null==r?void 0:r.trailing)===!1||(s=setTimeout(l,c)),o};return u.cancel=function(){clearTimeout(s),a=0,s=0,n=i=null},u.flush=function(){if(s)return clearTimeout(s),l(),o},u}},793593:function(e,t,r){r.d(t,{g:()=>o,o:()=>i});let s=`
# The Snowpark package is required for Python Worksheets. 
# You can add more packages by selecting them using the Packages control and then importing them.

import snowflake.snowpark as snowpark
from snowflake.snowpark.functions import col

def main(session: snowpark.Session): 
    # Your code goes here, inside the "main" handler.
    tableName = 'information_schema.packages'
    dataframe = session.table(tableName).filter(col("language") == 'python')

    # Print a sample of the dataframe to standard output.
    dataframe.show()

    # Return value will appear in the Results tab.
    return dataframe 
`.trim(),n=`
import com.snowflake.snowpark._

object Procedure {
  def main(session: Session): String = {
    var rows = session.sql("select 'Hello, Scala!'").collect();
    return rows(0).getString(0);
  }
}
`.trim(),i={sql:"",python:s,scala:n,java:`
import com.snowflake.snowpark.Session;

class Procedure {
    public static String main(Session session) {
        return session.sql("select 'Hello, Java!'").collect()[0].getString(0);
    }
}
`.trim(),javascript:`
/*
const resultSet = snowflake.execute({ sqlText: "select 'Hello, JavaScript!'" });
resultSet.next();
return resultSet.getColumnValue(1);
*/
`.trim()},o={python:{returnType:"Table()",runtimeVersion:"3.11"}}},629365:function(e,t,r){r.d(t,{s:()=>a});var s=r(485387),n=r.n(s),i=r(996283),o=r(725522);class a extends o.H{defaultName(e,t){let r=n()().format("YYYY-MM-DD"),s=e===i.i0?i.i0:"folder";return t?`Import ${r}`:`${r} ${s}`}label(e,t=!0){return t?e({id:"Folder"}):e({id:"folder"})}get virtual(){return this._virtual}toReduxState(){return{id:this.id,type:this.type}}constructor(e,t){super(e||"UNCREATED_FOLDER_ID",t),this.orgId=t.orgId||null,this.type=t.type,this.ownerId=t.ownerId||null,this.name=t.name||this.defaultName(this.type,t.isImported),this.slug=t.slug||this.id,this.url=t.url||null,this.editable=t.editable||!1,this._virtual=t.virtual||!1}}},844989:function(e,t,r){r.d(t,{B:()=>n});var s=r(725522);class n extends s.H{getModelStoreIndexableByUUID(){return`${this.id}`}static cloneChartWithNewSnowflakeRequestId(e,t){var r,s;return new n(e.id,(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},e),s=s={snowflakeRequestId:t},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(s)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(s,e))}),r))}constructor(e,t={}){super(e,t),this.modified=t.modified,this.version=t.version,this.type=t.type,this.sheet=t.sheet,this.steps=t.steps,this.primary=t.primary,this.secondary=t.secondary,this.secondary.domain&&this.secondary.domain[0]==Number.MAX_SAFE_INTEGER&&(this.secondary.domain=["auto","auto"]),this.lineStyle=t.lineStyle||{},this.points=t.points||!1,this.barStyle=t.barStyle||{},this.tableStyle=t.tableStyle||{},this.error=t.error,this.maxSeries=t.maxSeries,this.comparison=t.comparison,this.showLegend=void 0===t.showLegend||t.showLegend,this.snowflakeRequestId=t.snowflakeRequestId}}},380877:function(e,t,r){r.d(t,{Z:()=>h});var s=r(485387),n=r.n(s);class i{tileId(e,t,r){return`${e}-${t}-${r}`}isTablePlaced(e){return!!this._tiles[this.tileId(e.id,"table","")]}isChartPlaced(e,t){var r;let s="";return t.id!==(null==(r=e.chartInfos[0])?void 0:r.id)&&(s=String(t.id)),!!this._tiles[this.tileId(e.id,"chart",s)]}allTilesPlaced(e){for(let t of e){if(!this.isTablePlaced(t))return!1;for(let e of t.chartInfos)if(!this.isChartPlaced(t,e))return!1}return!0}constructor(e){let t={};for(let r of e)for(let e of r.cells)t[this.tileId(e.pid,e.displayMode,e.chartId||"")]=!0;this._tiles=t}}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}class l{get rows(){return this._rows}get cells(){return this._rows.reduce((e,t)=>e.concat(t.cells),[])}normalizedRows(e,t,r=!1){let s={};for(let t of e)s[t.id]=!0;let n=[];for(let e of this._rows){let i=[];if(e.cells){for(let n of e.cells)if(s[n.pid]||null==n.pid){let e=n.pid,s=t?`${e}:${t}`:e;i.push(a(o({},n),{pid:e,pidToLoad:s,staticEnter:r&&!!e}))}}n.push(a(o({},e),{cells:i}))}return n}normalizedCells(e,t){return this.normalizedRows(e,t).reduce((e,t)=>e.concat(t.cells),[])}get fingerprint(){return this._rows.map(e=>e.cells.map(e=>`${e.pid}:${e.version}`)).join("-")}getPlacedTiles(){return new i(this._rows)}hasPid(e,t){return!!this._rows.find(r=>r.cells.find(r=>r.pid===e&&(!t||r.displayMode===t)))}markAsRefreshing(){this._rows.forEach(e=>{e.cells.forEach(e=>{e.refreshing=!0})})}transform(e){e.forEach(({action:e,params:t})=>{let{pid:r,displayMode:s,chartId:n,rowIdx:i,cellIdx:o,row:a,cell:l,height:u}=t;switch(e){case"resizeRow":this._resizeRow(i,u);break;case"insertRow":this._insertRow(i,a);break;case"insertCell":this._insertCell(i,o,l);break;case"removeCell":this._removeCell(r,s,n)}this._rows=this._rows.filter(e=>e.cells.length>0)})}_resizeRow(e,t){this._rows[e]&&(this._rows[e].height=t)}_insertRow(e,t){t.cells.forEach(e=>this._removeCell(e.pid,e.displayMode,e.chartId)),this._rows.splice(e,0,a(o({},t),{height:2}))}_insertCell(e,t,r){this._removeCell(r.pid,r.displayMode,r.chartId),this._rows[e].cells.splice(t,0,r)}_removeCell(e,t,r){"number"==typeof r&&(r=String(r)),this._rows=this._rows.map(s=>(s.cells=s.cells.filter(s=>!(s.pid===e&&(!t||s.displayMode===t)&&(!r&&!s.chartId||r&&s.chartId===r))),s))}constructor(e){this._rows=e||[]}}var u=r(244435),c=r(996283),d=r(325978);class h extends d.b{label(e,t=!0){return t?e({id:"Dashboard"}):e({id:"dashboard"})}markAsRefreshing(){this.refreshing=!0,this.dashboard.markAsRefreshing()}createAllowedOverrides(){return new u.y3({database:!0,schema:!0})}constructor(e,t){var r,s,i;super(e,(s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},t),i=i={type:c.i0},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(i)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(i,e))}),s)),this.dashboard=new l(null==(r=this.settings.dashboard)?void 0:r.rows),this.runnable=t.runnable||!1,this.refreshed=t.refreshed?n()(t.refreshed).toDate():new Date,this.resultsViewable=t.resultsViewable||!1,this.isRefreshDead=t.isRefreshDead||!1}}},34157:function(e,t,r){r.d(t,{z:()=>l});var s=r(30673),n=r(530016),i=r(793593),o=r(442290),a=r(725522);class l extends a.H{shouldModelUpdate(e){return!1}toObject(){return JSON.parse(JSON.stringify(this))}isCreateProcedureEnabled(){switch(this.queryLanguage){case"java":case"javascript":case"python":case"scala":return!0;default:return!1}}update({query:e=this.query,queryLanguage:t=this.queryLanguage,queryLanguageConfig:r=this.queryLanguageConfig,queryRange:s=this.queryRange,executionContext:i=this.executionContext,paramRefs:a=this.paramRefs,modifiedTime:l=this.modifiedTime}){this.query=e,this.queryLanguage=t,this.queryLanguageConfig=r,this.queryRange=s,this.modifiedTime=l,this.executionContext=new o.f(i),this.paramRefs=(a||[]).map(n.NV.fromObject)}getModelStoreIndexableByUUID(){return this.id}clone(e){var t,r;return new l(e,(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},this),r=r={modifiedTime:this.modifiedTime||void 0,queryLanguageConfig:this.queryLanguageConfig||void 0,queryRange:this.queryRange||void 0,executionContext:this.executionContext||void 0},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))}get defaultQuery(){var e;return i.o[null!=(e=null===this||void 0===this?void 0:this.queryLanguage)?e:""]||""}get isEmpty(){return!(this.query||"").trim()}get isTooLong(){return this.query.length>s.gT.QUERY_MAX_DRAFT_LENGTH}get excessDraftLength(){return Math.max(this.query.length-s.gT.QUERY_MAX_DRAFT_LENGTH,0)}constructor(e,t={}){var r;super(e,t),this.version=t.version||void 0,this.modifiedTime=t.modifiedTime?new Date(t.modifiedTime):null,this.queryLanguage=t.queryLanguage||"sql",this.query=null!=(r=t.query)?r:this.defaultQuery,this.queryLanguageConfig=t.queryLanguageConfig||null,this.queryRange=t.queryRange||null,this.paramRefs=(t.paramRefs||[]).map(n.NV.fromObject),this.executionContext=new o.f(t.executionContext),this.appSessionId=t.appSessionId||0}}},996283:function(e,t,r){r.d(t,{E8:()=>i,i0:()=>s,pD:()=>n});let s="dashboard",n="list",i="color1"},325978:function(e,t,r){r.d(t,{b:()=>d});var s=r(145753),n=r(30673),i=r(530016),o=r(629365),a=r(244435),l=r(442290),u=r(996283),c=r(584895);class d extends o.s{createAllowedOverrides(){return new a.y3({warehouse:!0,database:!0,schema:!0})}get isUnsaved(){return!!this.unsavedKey}get settings(){return this._settings}get executionContext(){return this._executionContext}get color(){return s.Il.Blue50}get colorId(){return this.settings.color||u.E8}markAsRefreshing(){this.refreshing=!0}constructor(e,t){super(e,t),this.unsavedKey=(0,c.t)(this.id),this.originalId=(0,c.p)(this.id),this.visibility=t.visibility||n.gT.FOLDER_DEFAULT_VISIBILITY,this.modified=t.modified?new Date(t.modified):void 0,this.members=t.members||[],this.isImported=t.isImported||!1,this._executionContext=new l.f(t.executionContext||{}),this.refreshing=!!t.refreshing;let r=[];r=this.unsavedKey&&t.settings&&t.settings.unsavedParams?t.settings.unsavedParams[this.unsavedKey]||[]:t.paramRefs||[],this.paramRefs=r.map(i.NV.fromObject),this._settings=t.settings||{},this.allowedOverrides=this.createAllowedOverrides()}}},54076:function(e,t,r){function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}function n(e){return[...e].map(e=>JSON.parse(e))}function i(e){return function e(t){if("number"==typeof t)return t.toString();if("object"!=typeof t||null===t)return JSON.stringify(t);if(Array.isArray(t)){let r=[];for(let s=0;s<t.length;s++){let n=e(t[s])||JSON.stringify(null);r.push(n)}return`[${r.join(",")}]`}{let r=Object.keys(t).sort(),s=[];for(let n=0;n<r.length;n++){let i=r[n];s.push(`${JSON.stringify(i)}:${e(t[i])}`)}return`{${s.join(",")}}`}}(function(e){var t,r;let n=s({},e.secId);return Object.keys(n).forEach(e=>!n[e]&&delete n[e]),t=s({},e),r=r={secId:n},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t}(e))}r.d(t,{v:()=>n,z:()=>i})},467629:function(e,t,r){r.d(t,{L:()=>h});var s=r(280426),n=r(115499),i=r(399826),o=r(18259),a=r(211657),l=r(95673),u=r(725522),c=r(682659),d=r(505300);class h extends u.H{snapshot(){return{version:this.version,sheet:this._unprocessedSheet,processedSheet:this.sheet,ready:this.ready,canceled:this.canceled,populated:this.populated,cappedRows:this.cappedRows,error:this.error,rewritten:this.rewritten,modified:this.modified,processingPromise:this.processingPromise,snowflakeRequestId:this.snowflakeRequestId,snowflakeQueryId:this.snowflakeQueryId}}getModelStoreIndexableId(){return this.version?`${(0,l.d)(this.id)}@${this.version}`:(0,l.d)(this.id)}getModelStoreIndexableByUUID(){return -1!==this.id.indexOf(":")?this.id:this.snowflakeRequestId?`${(0,l.d)(this.id)}##${this.snowflakeRequestId}`:this.id}castStatsToBigNumberMutates(e){return e&&e.cols&&Object.values(e.cols).map(e=>{var t,r;(null==(t=e.stats)?void 0:t.total)!=void 0&&(e.stats.total=new o.Z(e.stats.total)),(null==(r=e.stats)?void 0:r.histogram)&&(e.stats.histogram.range=e.stats.histogram.range.map(e=>new o.Z(e)),e.stats.histogram.interval=new o.Z(e.stats.histogram.interval))}),e}isExactMatch(e){let[t,r]=e.split("@"),s=(0,l.d)(this.id);return!!this.version&&s===t&&this.version===parseInt(r,10)}get hasStats(){return this.sheet&&(1==i.J.totalRows(this.sheet)||i.J.isStatsSheet(this.sheet))}get awaitingStats(){return this.populated&&!this.ready&&!this.error&&!i.J.isSheetResultTooLargeForStatsOrSearch(this._unprocessedSheet)}clone(){return new h(this.id,this.snapshot())}cloneAsUnversioned(){var e,t;return new h(this.id,(e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},this.snapshot()),t=t={version:void 0},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e))}cloneWithNewRequestId(e){return new h(this.id,{sheet:this._unprocessedSheet,processedSheet:this.sheet,version:void 0,snowflakeQueryId:void 0,snowflakeRequestId:e})}setAsCanceled(){this.canceled=!0,this._unprocessedSheet=null,this.sheet=null}isOlderThan(e){return!!this.modified&&!!e.modified&&this.modified<e.modified}async processSheet(e={generateTypesOnly:!1}){if(this.sheet)return;let t=(0,l.d)(this.id);if(this.error){let e=performance.timeOrigin+performance.now();(0,a.At)(t,{statsStartTime:e,statsEndTime:e},!1)}let r=this._unprocessedSheet;if(r){if(r.requiredRoles){this.sheet=r;return}if(i.J.isEmptySheet(r)||i.J.isValidSheetWithNoData(r)){void 0!==r.rows&&null!==r.rows&&(this.sheet=await f(r));return}!this.ready||i.J.isPartialSheet(r)||i.J.isStatsSheet(r)||e.generateTypesOnly?r=await f(r):((0,a.At)(t,{statsStartTime:performance.timeOrigin+performance.now()},!1),r=await p(r),(0,a.At)(t,{statsEndTime:performance.timeOrigin+performance.now()})),this.sheet=r}}async refreshSheetWithStats(){var e;if(!(!this.sheet||(null==(e=this.sheet)?void 0:e.requiredRoles)||i.J.isEmptySheet(this.sheet)||i.J.isValidSheetWithNoData(this.sheet))&&this.ready&&!i.J.isPartialSheet(this.sheet)&&!i.J.isStatsSheet(this.sheet)){let e,t=(0,l.d)(this.id);(0,a.At)(t,{statsStartTime:performance.timeOrigin+performance.now()},!1),e=i.J.isTypedSheet(this.sheet)?await p(this.sheet,{shouldUpdateWidths:!1}):await p(this.sheet),this.sheet=e,(0,a.At)(t,{statsEndTime:performance.timeOrigin+performance.now()})}}constructor(e,t={}){super(e,t),this.version=t.version,this._unprocessedSheet=t.skipStatsCasting?t.sheet:this.castStatsToBigNumberMutates(t.sheet),this.sheet=t.processedSheet,this.ready=t.ready,this.canceled=t.canceled,this.populated=t.populated,this.cappedRows=t.cappedRows,this.error=t.error,this.rewritten=t.rewritten,this.modified=t.modified?new Date(t.modified):void 0,this.processingPromise=t.processingPromise,this.snowflakeRequestId=t.snowflakeRequestId,this.snowflakeQueryId=t.snowflakeQueryId}}async function p(e,t={shouldUpdateWidths:!0}){let{shouldUpdateWidths:r}=t;return e=await (0,n.ey)(e,s.k.get(),void 0,void 0,r),(0,d.J)(e)}async function f(e){return i.J.isTypedSheet(e)||(e=await (0,c.k)(e,s.k.get())),(0,d.J)(e)}},899231:function(e,t,r){r.d(t,{T:()=>o});var s=r(888890),n=r(442290),i=r(725522);class o extends i.H{get initials(){return this.name?this.name.split(" ").map(e=>e[0]).join("").replace(/\s+/,"").toUpperCase():""}constructor(e,t){var r;super(e||"UNCREATED_USER_ID",t),this.email=t.email||"",this.name=t.name?t.name:t.username,this.firstName=t.firstName||"",this.lastName=t.lastName||"",this.canModifyParameters=t.canModifyParameters||!1,this.modifyParameterRoles=t.modifyParameterRoles||[],this.username=t.username,this.avatar=t.avatar||"",this.defaultOrgId=t.defaultOrgId||"",this.settings=t.settings||{},this.lastUsedQueryContext=new n.f(this.settings.lastUsedQueryContext),this.hasAdminRole=!!t.hasAdminRole,this.hasAccountAdminRole=!!t.hasAccountAdminRole,this.hasOrgAdminRole=!!(null==(r=t.availableRoles)?void 0:r.includes(s.rJ)),this.availableRoles=t.availableRoles||[],this.exchangeRoles=t.exchangeRoles||[],this.grantedRoles=t.grantedRoles||[]}}},46663:function(e,t,r){r.d(t,{h:()=>u});var s=r(380877),n=r(467131),i=r(325978);class o extends i.b{constructor(e,t){super(e,t),n.cM.error("FolderModel with type "+t.type+" created")}}var a=r(996283);class l extends i.b{constructor(e,t){var r,s;super(e,(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},t),s=s={type:a.pD},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(s)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(s,e))}),r))}}function u(e,t){switch(t.type){case a.i0:return new s.Z(e,t);case a.pD:return new l(e,t);default:return new o(e,t)}}},682659:function(e,t,r){r.d(t,{k:()=>a});var s=r(909896),n=r(655460),i=r(115499),o=r(716155);async function a(e,t,r){let a=new o.k(e,r,{detectors:[new n.f,new s.n],includeBlankRows:!0}),l=await a.rowStream({shouldNormalizeRows:!1}),u=new o.v(null,t,{generateStats:!1,keepStats:!0}),c=await u.writeStream(l,-1,!0);return c.totalRows=e.totalRows,c.sortable=e.sortable,c.sortableBytesLimit=e.sortableBytesLimit,c=(0,i.ku)(c)}},505300:function(e,t,r){r.d(t,{J:()=>a});var s=r(859399),n=r(115499),i=r(294756),o=r(146838);function a(e){return e&&e.maxRow&&e.maxRow>0&&(e=s.g.generateSheetTypes(e),(e=(0,n.ku)(e)).styles&&o.r.processStyles(e.styles),e.colNames=i.e.ColNames.fromSheet(e),e.properties&&(e.properties.xSplit=1)),e}},982842:function(e,t,r){r.d(t,{E:()=>k});var s,n=r(467131),i=r(130780),o=r.n(i),a=r(882042),l=r(335002),u=r(844989),c=r(725522);class d extends c.H{isOlderThan(e){return!!e.modified&&this.modified<e.modified}constructor(e,t={}){super(e,t),void 0==t.modified&&n.cM.error("DBSchemaModel data has undefined modified date"),this.modified=new Date(t.modified),void 0==t.lastUpdated&&n.cM.error("DBSchemaModel data has undefined lastUpdated date"),this.lastUpdated=new Date(t.lastUpdated),this.loading=t.loading,this.tables=null==t?void 0:t.tables,this.namespacesDetails=t.namespacesDetails,this.defaultNamespace=t.defaultNamespace}}var h=r(34157);class p extends c.H{constructor(e,t){super(e,t),this.pids=t.pids||[]}}var f=r(549001);class g extends c.H{constructor(e,t={}){super(e,t),this.schemaCards=t.schemaCards||{}}}var m=r(467629),y=r(899231),w=r(30673),b=r(629365),v=r(996283);class S extends b.s{label(e){return e({id:"Dashboards"})}constructor(e,t){super(w.gT.DASHBOARDS_FOLDER_ID,{name:"Dashboards",orgId:e.id,ownerId:t,type:v.pD,url:`${e.appPath}/dashboards`,virtual:!0,editable:!0})}}class O extends b.s{label(e){return e({id:"Worksheets"})}constructor(e,t){super(w.gT.QUERIES_FOLDER_ID,{name:"Worksheets",orgId:e.id,ownerId:t,type:v.pD,url:`${e.appPath}/worksheets`,virtual:!0,editable:!0})}}class E extends c.H{constructor(e,t){super(e,t),this.name=t.name,this.state=t.state,this.type=t.type,this.size=t.size,this.minClusterCount=parseInt(t.min_cluster_count),this.maxClusterCount=parseInt(t.max_cluster_count),this.startedClusters=parseInt(t.started_clusters),this.running=parseInt(t.running),this.queued=parseInt(t.queued),this.isDefault="Y"===t.is_default,this.isCurrent="Y"===t.is_current,this.autoSuspend=parseInt(t.auto_suspend),this.autoResume="false"!=t.auto_resume.toLowerCase(),this.available=parseInt(t.available)||0,this.provisioning=parseInt(t.provisioning)||0,this.quiescing=parseInt(t.quiescing)||0,this.other=parseInt(t.other)||0,this.createdOn=Date.parse(t.created_on),this.resumedOn=Date.parse(t.resumed_on),this.updatedOn=Date.parse(t.updated_on),this.owner=t.owner,this.comment=t.comment,this.scalingPolicy=t.scaling_policy}}class P extends c.H{isOlderThan(e){return this.modified<e.modified}constructor(e,t){super(e,t),this.folderId=t.id,this.modified=new Date(t.modified).getTime(),this.userId=t.userId,this.orgId=t.orgId,this.totalWorksheets=t.totalWorksheets,this.loading=t.loading,this.numOfSuccessfulWs=t.numOfSuccessfulWs,this.failedWorksheets=t.failedWorksheets||[]}}var _=r(46663),T=r(750129),R=r(658379);let I=(0,R.createAction)("shadowObjectSet");(0,R.createAction)("shadowObjectPropSet"),(0,R.createAction)("shadowObjectMapSet");let A=(e,t,r)=>new Proxy(e,{set(e,s,n,i){if("string"==typeof s&&"toReduxState"in n&&"function"==typeof n.toReduxState){let e=structuredClone(n.toReduxState());r.dispatch(I({name:t,id:s,value:e}))}return Reflect.set(e,s,n,i)},deleteProperty:(e,t)=>(delete e[t],!0)});class C{list(){return Object.values(this._models)}get(e){return!e||e&&"string"!=typeof e?this._models[e]:this.getByVersion(e)}getByVersion(e){return -1===e.indexOf("@")?this._models[e]:this.list().find(t=>t.isExactMatch(e))||this._models[e]}insert(...e){e.forEach(e=>{this.insertById(e)})}insertById(e){let t=this._models[e.id],r=null==t?void 0:t.getModelStoreIndexableId(),s=e.getModelStoreIndexableId();r&&s&&r!==s&&(this._models[r]=t),this._models[e.id]=e}receive(e,t){if(!t)return!1;let r=this.get(e);if(r&&!r.shouldModelUpdate(t)||r&&t.isOlderThan(r))return!1;let s=this._updatersById[e];if(null!=s)for(let e of s)e(t);return this.insert(t),t}remove(e){let t=this.get(e);t&&delete this._models[t.id]}addUpdater(e,t){let r=this._models[e];r&&t(r);let s=this._updatersById[e];s||(s=[],this._updatersById[e]=s),s.push(t)}removeUpdater(e,t){let r=this._updatersById[e];r.splice(r.indexOf(t),1)}constructor(e,t){this.identifier=e,this._models=t?A({},e,t):{},this._updatersById={},T.log.info(`Instantiating ${this.identifier}`)}}class k{createVirtualFolders(e,t){this._virtualDashboardsRootFolder=new S(e,t),this._virtualWorksheetsRootFolder=new O(e,t)}virtualDashboardsRootFolder(){return this._virtualDashboardsRootFolder}virtualWorksheetsRootFolder(){return this._virtualWorksheetsRootFolder}create(e,t,r){let s=r;if("string"==typeof r)try{s=JSON.parse(r)}catch(e){n.cM.error(e)}switch(e){case this.charts2:return new u.B(t,s);case this.dbSchemas:return new d(t,s);case this.worksheetImports:return new P(t,s);case this.drafts:return new h.z(t,s);case this.folders:return(0,_.h)(t,s);case this.queries:return new f.e(t,s);case this.queryHistories:return new p(t,s);case this.queryPrefs:return new g(t,s);case this.queryResults:return new m.L(t,s);case this.users:return new y.T(t,s);case this.warehouses:return new E(t,s);default:return}}receive(e){if(e){let t={};if(this.reduxStore){let t=o()(e,["queries","queryResults","drafts"]);t&&this.reduxStore.dispatch((0,l.B)(structuredClone(t)))}Object.keys(e).forEach(r=>{t[r]=0,Object.keys(e[r]).forEach(s=>{let i=this[r],o=this.create(i,s,e[r][s]);o?(i.receive(s,o),++t[r]):n.cM.warn("ModelStore",`Unable to instantiate new model for ${r}/${s}`,e)})})}}constructor(e){this.reduxStore=e,this.charts2=new C("ChartModel",e),this.dbSchemas=new C("DBSchemaModel",e),this.worksheetImports=new C("WorksheetImportsModel",e),this.drafts=new C("DraftModel",e),this.folders=new C("GenericListOrDashboardFolderModel",e),this.queries=new C("QueryModel",e),this.queryHistories=new C("QueryHistoryModel",e),this.queryPrefs=new C("QueryPrefsModel",e),this.queryResults=new C("QueryResultsModel",e),this.users=new C("UserModel",e),this.warehouses=new C("WarehouseModel",e)}}k=function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}([(0,a.ri)(),(s=(0,a.f3)("False"),function(e,t){s(e,t,0)})],k)},555889:function(e,t,r){r.d(t,{B:()=>s});let s=/^\/(.*?)(?:\/(.*?))?(?:\/(.*?))?(?:\/(.*?))?$/u},683611:function(e,t,r){r.d(t,{j:()=>s});let s=/^([0-9a-z]*[\w-]*-)?(w[0-9a-zA-Z]+(?::[^@]+)?(?:@[0-9]+)?)$/u},564395:function(e,t,r){r.d(t,{af:()=>p,lm:()=>h});var s=r(961114),n=r(555889),i=r(683611);function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}let a=e=>{let[t,r,s,o,a]=e.match(n.B);return o&&i.j.test(o)},l=(e,t)=>""===t||a(e),u=e=>""===e||-1===e.indexOf("?"),c=(e,t)=>!e.endsWith("/")&&t.startsWith("#/")?`${e}/`:e,d=e=>new Proxy(o({},e),{get(e,t){let{pathname:r,hash:s,search:n}=e;if("__original__"===t)return e;if("pathname"===t){if(l(r,s))return r;let e=s.indexOf("?"),t=-1===e?s.length:e,n=c(r,s);return`${n}${decodeURI(s.slice(2,t))}`}if("hash"===t)return s;if("search"===t){if(u(s))return n;let e=s.indexOf("?");return s.slice(e)}return Reflect.get(e,t)}}),h=new Proxy(s.l,{get:(e,t)=>"location"===t?d(e.location):"listen"===t?t=>e.listen(e=>{var r,s;return t((r=o({},e),s=s={location:d(e.location)},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(s)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(s,e))}),r))}):Reflect.get(e,t)});function p(e){var t;return null!=(t=e.__original__)?t:e}},445060:function(e,t,r){r.d(t,{w:()=>u});var s=r(767557),n=r(164214),i=r(882042);function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function l(e,t){return function(r,s){t(r,s,e)}}class u{async post(e,t,r,n){let i,l={};return(null==r?void 0:r.isJsonBody)?(l["Content-Type"]="application/json",i=JSON.stringify(t)):t instanceof FormData?i=t:t&&(i=s.nZ(t)),(null==r?void 0:r.keepAlive)===!1&&(l["x-snowflake-keep-alive"]=!1),await this.net.nufetchForm(e,this.getRequestContext(),a(o({},n),{method:"POST",body:i,headers:o({},(null==r?void 0:r.overrideDefaultHeaders)?o({},this.defaultHeaders(),null==n?void 0:n.headers):o({},null==n?void 0:n.headers,this.defaultHeaders()),l)}),null==r?void 0:r.versionPrefix)}defaultHeaders(){return{"X-Snowflake-Request-Id":this.getRequestContext().requestId||n.Z()}}async get(e,t,r,n){let i=e,l={};if((null==r?void 0:r.keepAlive)===!1&&(l["x-snowflake-keep-alive"]=!1),t){let e=s.nZ(t);e.length>0&&(i+=`?${e}`)}return await this.net.nufetch(i,this.getRequestContext(),a(o({},n),{headers:o({},null==n?void 0:n.headers,this.defaultHeaders(),l)}),null==r?void 0:r.versionPrefix)}delete(e,t){return this.net.nufetchForm(e,this.getRequestContext(),a(o({},t),{method:"DELETE"}))}constructor(e,t){this.net=e,this.getRequestContext=t}}u=function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}([(0,i.ri)(),l(0,(0,i.f3)("Net")),l(1,(0,i.f3)("getRequestContext"))],u)},941345:function(e,t,r){r.d(t,{s:()=>s});class s{get getDatadogRum(){throw Error("not implemented")}get roleResolver(){throw Error("not implemented")}get featureFlags(){throw Error("not implemented")}get v1toV0QueriesAdapter(){throw Error("not implemented")}get getUUIDv4(){throw Error("not implemented")}get logger(){throw Error("not implemented")}}},397288:function(e,t,r){r.d(t,{BT:()=>i,MT:()=>n,RL:()=>o,Yy:()=>a,fr:()=>s});let s="UI_ENABLE_UI_PLATFORM_FEATURE_40",n="UI_ENABLE_UI_PLATFORM_FEATURE_41",i="UI_ENABLE_UI_PLATFORM_FEATURE_44",o="UI_ENABLE_UI_PLATFORM_FEATURE_13",a="FEATURE_UI_DEX_41"},718434:function(e,t,r){r.d(t,{A:()=>y});var s=r(16805),n=r.n(s),i=r(374318),o=r(993914),a=r(480336),l=r(36760),u=r(889398);let c=e=>"metadata"in e&&"object"==typeof e.metadata&&null!==e.metadata&&"cellTransformations"in e.metadata&&"audit"in e.metadata,d=e=>{let t=null,r=null,s=null,n=null,a=null;if(e&&(a=(0,o.e)(e)),e instanceof i.M){var l,u,c;n=e.statusCode,t=null!=(l=e.code)?l:null,r=null!=(u=e.message)?u:null,s=null!=(c=e.externalErrorCause.type)?c:null}else if(e instanceof Error)r=e.message,s="unknown";else if(e&&"object"==typeof e)try{r=JSON.stringify(e),s="unknown"}catch(e){}else"string"==typeof e&&(r=e,s="unknown");return{errorType:s,errorCode:t,errorMessage:r,errorStatusCode:n,looksLikeNetworkError:a}},h=e=>0===e.rows.length?[]:1===e.rows.length?[0]:[0,Math.floor(e.rows.length/2),e.rows.length-1],p=(e,t)=>e&&t?e.rows.length===t.rows.length:null,f=(e,t,r,s)=>{if(!r||!s)return null;if(r.rows.length!==s.rows.length)return{isMatch:!1,mismatchedColumns:null};if(!c(r))return null;let n=h(r),i=r.metadata.cellTransformations,o=new Set,{matchSoFar:a,compared:l}=n.reduce((n,a)=>{if(!n.matchSoFar)return{matchSoFar:n.matchSoFar,compared:n.compared};let l=r.rows[a],u=s.rows[a];if(!l||!u)throw Error("unable to obtain rows for comparison");let c=!0,d=!1;for(let r=0;r<i.length;r++)!i[r]&&(c=l[r]===u[r],d=!0,c||(o.add(r),t.info("instrumentSqlPassthrough",`failed cell match for ${e}`,{"row index":a,"cell index":r,"cell transforms for the row":i,"result row compared":l,"initial/basis result row compared":u,"result cell value in question":l[r],"initial/basis cell value in question":u[r]})));return{matchSoFar:c,compared:d}},{matchSoFar:!0,compared:!1});return l?{isMatch:a,mismatchedColumns:o}:null},g=(e,t)=>{if(!e||!t)return null;if(e.cols.length!==t.cols.length)return!1;for(let r=0;r<e.cols.length;r++)if(e.cols[r].name!==t.cols[r].name||e.cols[r].type!==t.cols[r].type)return!1;return!0},m=e=>{if(e&&c(e)){let{audit:t}=e.metadata;return{numberOfChunks:t.numberOfChunks,totalResults:t.totalResults,pollTicks:t.polling.numOfTicks,pollDuration:t.polling.durationMS,fetchedAdditionalRows:t.additionalFetch.fetchedAdditional,fetchedAdditionalDuration:t.additionalFetch.durationMS,resultLackedFirstChunk:t.additionalFetch.neededFirstChunk,streamRowStart:t.additionalFetch.rowStart,streamRowEnd:t.additionalFetch.rowEnd}}return{}},y=e=>{var t,r,s,i,o,c,h,y,w,b,v,S,O,E,P,_,T,R,I,A,C,k,x,j,U,D,N,L;let{logger:F}=e,q=n()(u.H),M=q(e.sqlQuery)?e.sqlQuery.desc:null!=(r=null==(t=e.sqlQuery.options)?void 0:t.desc)?r:"unknown",{errorType:B,errorCode:W,errorMessage:V,errorStatusCode:G,looksLikeNetworkError:H}=d(e.error),$=g(e.result,e.shadowedResult),z=p(e.result,e.shadowedResult),X=f(M,F,e.result,e.shadowedResult);(!1===$||!0===$)&&F.info("instrumentSqlPassthrough",`columns comparison for ${M}`,{"columns isomorphic?":$}),null!=X&&F.info("instrumentSqlPassthrough",`rows comparison for ${M}`,{"rows isomorphic?":X});let Q=e.shadowedResult?null:(0,l.G)(e.sqlQuery),J=d(e.shadowedError);try{let t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({initiator:e.initiator,version:e.version,desc:M,queryHash:q(e.sqlQuery)?(0,a.W)(e.sqlQuery.sqlQuery.sqlText):(0,a.W)(e.sqlQuery.query.sqlText),readonlyQuery:Q,shadowModeId:e.shadowModeId,isGuestFetch:e.isGuestFetch,duration:e.end-e.start,noOfColumns:null!=(T=null==(i=e.result)||null==(s=i.cols)?void 0:s.length)?T:null,noOfRows:null!=(R=null==(c=e.result)||null==(o=c.rows)?void 0:o.length)?R:null,totalRows:null!=(I=null==(h=e.result)?void 0:h.totalRows)?I:null,requestId:q(e.sqlQuery)?null!=(A=e.sqlQuery.requestId)?A:null:null!=(C=null==(y=e.sqlQuery.options)?void 0:y.requestId)?C:null,keepAlive:q(e.sqlQuery)?null:null!=(k=null==(w=e.sqlQuery.options)?void 0:w.keepAlive)?k:null,cacheToRefresh:q(e.sqlQuery)?null:null!=(x=null==(b=e.sqlQuery.options)?void 0:b.cacheToRefresh)?x:null,expectsTableResults:q(e.sqlQuery)?null:null!=(j=null==(v=e.sqlQuery.options)?void 0:v.expectsTableResults)?j:null,pid:q(e.sqlQuery)?null!=(U=e.sqlQuery.pid)?U:null:null!=(D=null==(S=e.sqlQuery.options)?void 0:S.pid)?D:null,suppliedSecondaryRoles:q(e.sqlQuery)?void 0!==e.sqlQuery.secondaryRoles:(null==(O=e.sqlQuery.options)?void 0:O.secondaryRoles)!==void 0,errorType:B,errorCode:W,errorMessage:V,errorStatusCode:G,looksLikeNetworkError:H,columnsComparison:$,noOfShadowedRows:null!=(N=null==(P=e.shadowedResult)||null==(E=P.rows)?void 0:E.length)?N:null,shadowedError:J.errorMessage,numberOfRowsComparison:z,rowsComparison:null!=(L=null==X?void 0:X.isMatch)?L:null,mismatchedColumns:(null==X||null==(_=X.mismatchedColumns)?void 0:_.size)&&(null==X?void 0:X.mismatchedColumns.size)>0?Array.from(X.mismatchedColumns).join(", "):null},m(e.result));e.shadowedResult&&F.info("instrumentSqlPassthrough","data",t),e.datadog.addAction("sqlPassthrough",t)}catch(e){F.error(e)}}},841702:function(e,t,r){r.d(t,{u:()=>i});var s=r(889398);let n=["usage-consumption"],i=e=>(0,s.H)(e)?void 0===e.pid&&!n.includes(e.desc):void 0===e.pid&&void 0===e.cacheToRefresh&&(!e.desc||!n.includes(e.desc))},36760:function(e,t,r){r.d(t,{G:()=>i});var s=r(889398);let n=["notebook-reload-files","streamlit-reload-files"],i=e=>{var t,r;let i=(0,s.H)(e)?e.sqlQuery.sqlText.toLowerCase().trim():e.query.sqlText.toLowerCase().trim(),o=null!=(r=(0,s.H)(e)?e.desc:null==(t=e.options)?void 0:t.desc)?r:"";return(i.startsWith("select ")||i.startsWith("describe ")||i.startsWith("show "))&&!n.includes(o.toLowerCase())}},375288:function(e,t,r){r.d(t,{P:()=>u,k:()=>l});var s=r(250370),n=r.n(s),i=r(397288),o=r(36760),a=r(889398);let l=["show-warehouses","tag-entity-detail","show-table-in-schema","database_role-show-grants-of-obj","show-warehouse","show-terse-databases","show-terse-roles","schema-show-grants-on-obj","task-graph-status-current","task-graph-tasks-run-status","system-show-notebooks-in-account","notebook-describe","show-notebook-in-schema","user-show-grants-to-obj","user-describe","show-terse-schemas-in-database","show-tables","show-views","system-show-streamlits-in-account","show-objects-in-schema","show-streamlit-in-schema","view-describe","show-database","check-is-database-role-in-session","account-show-grants-on-obj","is-eligible-for-monetization","table-entity-detail","view-show-grants-on-obj","available-roles","show-databases","table-show-grants-on-obj","view-entity-detail","schema-entity-detail","table-get_ddl"].sort(),u=(e,t)=>{var r;if(e.isEnabled(i.BT))return(0,o.G)(t);let s=(0,a.H)(t)?t.desc:null==(r=t.options)?void 0:r.desc;return s&&-1!==n()(l,s)}},889398:function(e,t,r){r.d(t,{H:()=>n});let s=e=>null!=e&&"object"==typeof e&&"sqlText"in e&&"bindingsJSON"in e,n=e=>null!=e&&"object"==typeof e&&"sqlQuery"in e&&s(e.sqlQuery)&&"role"in e&&"isInternal"in e&&"desc"in e},384789:function(e,t,r){r.d(t,{P:()=>s});let s=()=>{let e=n();return null==e?void 0:e._ga},n=()=>document.cookie.split("; ").reduce((e,t)=>{let[r,...s]=t.split("=");return e[r]=s.join("="),e},{})},166564:function(e,t,r){r.d(t,{Z:()=>u});var s=r(750129),n=r(383151),i=r(616821),o=r(60090),a=r(374740),l=r(598962);function u(e,t,r){let u=(0,a.mE)(e),d=!(0,a.bq)(e);if(r&&(!u.preventClientOverrides||(0,o.P)())){let t=(0,l.A7)()[e];if(null!=t)return t}if(d&&"boolean"==typeof t)return t;if("string"==typeof t){if(null==t?void 0:t.match(/enabled/iu))return!0;if(null==t?void 0:t.match(/disabled/iu))return!1;if(null==t?void 0:t.match(/^v:/iu)){var h=t;try{if(void 0===n.X.clientVersion||"local"===n.X.clientVersion)return!1;let e=h.substring(2),t=n.X.clientVersion,[r,s]=c(e),[i,o]=c(t);return i>r||i===r&&o>=s}catch(e){(0,i.WC)()&&s.log.error(`Unable to compare currentBuild ${n.X.clientVersion} against minVersion ${h}.`)}return!1}}return u.default}function c(e){var t;return[parseInt(e.split("-")[0],10),parseInt(null!=(t=e.split("-")[1])?t:"1",10)]}},598962:function(e,t,r){r.d(t,{A7:()=>n,B8:()=>o,Iy:()=>l,dy:()=>s,jy:()=>a,oF:()=>u,z4:()=>c});let s="snowflake-internal-client-overrides";function n(){let e=localStorage.getItem(s);return null==e?{}:JSON.parse(e)}function i(e){localStorage.setItem(s,JSON.stringify(e))}function o(e,t){let r=n();r[e]=t,i(r)}function a(){return Object.keys(n()).length>0}function l(){localStorage.removeItem(s)}function u(e,t){if(!t)return;let r=n();Object.keys(e).forEach(t=>{r[t]=e[t]}),i(r)}function c(){let e=new URLSearchParams(window.location.search).get("flags");if(null!=e){let t={};if(""===e)l();else{for(let r of e.split(","))0===r.indexOf("-")?t[r.substring(1)]=!1:t[r]=!0;u(t,!0)}let r=new URL(document.location.href),s=new URLSearchParams(r.search);s.delete("flags"),r.search=s.toString(),window.history.replaceState(null,"",r.toString())}}},854162:function(e,t,r){r.d(t,{U:()=>l,p:()=>a});var s=r(467131),n=r(383151);function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}e=r.hmd(e);let o="Snowflake";class a{bind(t,r={},s=!1){Object.assign(this,r);let n=e=>Object.assign(this,t(e));if(!this.hasOwnProperty("__setter")||void 0===this.__setter||s)Object.defineProperty(this,"__setter",{value:n,configurable:!0});else{if(e.hot)return Object.defineProperty(this,"__setter",{value:n,configurable:!0}),n;throw Error("Cannot rebind the __setter of PageStateCls")}return n}set(e){this.__setter(e)}setModal(e,t){var r;let s=null==t.dismissable||!!t.dismissable,n=!!t.allowShortcuts,o=!!t.downToEarth;t=i({dismissable:s,allowShortcuts:n,downToEarth:o},t),(null==(r=this.popover)?void 0:r.dismiss)&&this.popover.dismiss(),this.set({modal:i({elClass:e,props:t},{dismissable:s,allowShortcuts:n,downToEarth:o}),popover:null})}toggleModal(e,t){null==this.modal||this.modal.elClass!==e?this.setModal(e,t):this.hideModal()}updateModalFeatures({dismissable:e,allowShortcuts:t,downToEarth:r},s){this.modal&&(this.modal.oldFeatures={dismissable:this.modal.dismissable,allowShortcuts:this.modal.allowShortcuts,downToEarth:this.modal.downToEarth},this.modal.dismissable=e,this.modal.allowShortcuts=t,this.modal.downToEarth=r,s())}resetModalFeatures(e){var t;(null==(t=this.modal)?void 0:t.oldFeatures)&&(this.modal.dismissable=this.modal.oldFeatures.dismissable,this.modal.allowShortcuts=this.modal.oldFeatures.allowShortcuts,e())}hideModal(){var e;this.modal&&((null==(e=this.popover)?void 0:e.inModal)&&this.hidePopover(),this.set({modal:null}))}setPopover(e){this.set({popover:e})}hidePopover(){var e;(null==(e=this.popover)?void 0:e.dismiss)&&this.popover.dismiss(),this.set({popover:null})}concealPopover(){var e;(null==(e=this.popover)?void 0:e.conceal)&&this.popover.conceal()}movePopover(e,t){if(this.popover&&this.popover.type===e&&t){let e=this.popover.move(t);this.set({popover:e})}}hideTooltip(){(this.tooltip||this.tooltipTimeout)&&(clearInterval(this.tooltipTimeout),this.set({tooltip:null,tooltipTimeout:null}))}showDragLayer(e){this.set({dragLayer:e})}hideDragLayer(){this.dragLayer&&this.set({dragLayer:null})}logError(e){s.cM.error(e),this.setError(e)}setError(e){this.set({error:e})}track(e,t,r,s,i){var o;(null===n.X||void 0===n.X||null==(o=n.X.stores)?void 0:o.analytics)&&"function"==typeof n.X.stores.analytics.track&&n.X.stores.analytics.track(e,t,r,s,i)}changeDefaultTitle(e){o=e}setDefaultTitle(){this.setTitle(o)}setTitle(e){e!==document.title&&(document.title=e)}flashMessage(e){this.setError({message:e})}constructor(){for(let e in this)void 0!==this[e]&&Object.defineProperty(this,e,{value:this[e],writable:!1,enumerable:!1})}}let l=new a},198364:function(e,t,r){r.d(t,{P:()=>O});var s=r(767557),n=r(162849),i=r(238257),o=r(383151),a=r(882042),l=r(982842),u=r(718434),c=r(841702),d=r(375288),h=r(713332),p=r.n(h),f=r(616821),g=r(397288),m=r(674337);function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function b(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function v(e,t){return function(r,s){t(r,s,e)}}let S=(e,t)=>{if(e)try{return e(t)}catch(e){}return t};class O{context(){return this.securableAPIContext}async get(e,t,r,s,n){let i=r?this.httpFactory(()=>r):this.backendHttp,o=await i.get(e,t,s,n),{models:a}=o,l=b(o,["models"]);return await this.modelReceiver.receive(a),l}async delete(e){let t=await this.backendHttp.delete(e),{models:r}=t,s=b(t,["models"]);return await this.modelReceiver.receive(r),s}async post({path:e,data:t,localUpdates:r=[],requestContext:s,options:n,requestOptions:i,track:o,mergeModels:a}){let l,u,c="/queries"===e&&t&&"execute"===t.action&&o;for(let e of r)this.modelReceiver.addUpdater(e.model,e.id,e.updater);let d=s?this.httpFactory(()=>s):this.backendHttp;try{var h;let r=performance.now();if(c)try{o(m.Y8U,{request_id:t.snowflakeRequestId,data:{snowsightPid:t.projectId,queryLanguage:t.queryLanguage,clientOperationId:t.clientOperationId}},void 0,!0)}catch(e){}h=await d.post(e,t,n,i),l=b(h,["models"]),{models:u}=h;let s=performance.now()-r;if(c)try{o(m.EKB,{request_id:t.snowflakeRequestId,data:{snowsightPid:t.projectId,queryLanguage:t.queryLanguage,clientOperationId:t.clientOperationId,durationMs:s}},void 0,!0)}catch(e){}}finally{for(let e of r)this.modelReceiver.removeUpdater(e.model,e.id,e.updater)}let p=performance.now();if(c)try{o(m.EKd,{request_id:t.snowflakeRequestId,data:{snowsightPid:t.projectId,queryLanguage:t.queryLanguage,clientOperationId:t.clientOperationId}},void 0,!0)}catch(e){}await this.modelReceiver.receive(S(a,u));let f=performance.now()-p;if(c)try{o(m.R2O,{request_id:t.snowflakeRequestId,data:{snowsightPid:t.projectId,queryLanguage:t.queryLanguage,clientOperationId:t.clientOperationId,durationMs:f}},void 0,!0)}catch(e){}return l}async v1query(e,t,r=null,s){var n;let i,o,a,l=null!=(n=t.requestId)?n:this.securableAPIContext.getUUIDv4(),c=w(y({},t),{requestId:l}),d=performance.now();try{i=await this.securableAPIContext.v1toV0QueriesAdapter.query(w(y({},e),{runToCompletion:!this.securableAPIContext.featureFlags.isEnabled(g.Yy)}),c)}catch(e){o=e}finally{a=performance.now()}let h={version:1,initiator:"modelStoreAPI",isGuestFetch:!1,result:i,error:o,start:d,end:a,sqlQuery:{query:e,options:c},shadowModeId:r,datadog:this.securableAPIContext.getDatadogRum(),logger:this.securableAPIContext.logger};if(s&&(s.data&&(h.shadowedResult=s.data),s.error&&(h.shadowedError=s.error)),(0,u.A)(h),o)throw o;return i}async query(e,t){var r,s,a,l,h,m;let v,S,O,{desc:E,context:P,keepAlive:_,requestId:T}=t,R=b(t,["desc","context","keepAlive","requestId"]),I=(!!(null==(s=o.X.stores)||null==(r=s.user)?void 0:r.isGuestUser)||!!(null==(a=t.requestContext)?void 0:a.isGuest))&&!(0,i.r)(window.location.hostname),A=null!=(l=t.requestContext)?l:this.urc.requestContext(),C=E?`?desc=${encodeURIComponent(E)}`:"",k=((0,f.WC)()||(0,f.mb)())&&!this.securableAPIContext.featureFlags.isEnabled(g.RL)||this.securableAPIContext.featureFlags.isEnabled(g.fr),x=(0,c.u)(t);if(k&&x&&!I)return this.v1query(e,t);let j=E&&P?`#${new URLSearchParams(P).toString()}`:"",U=performance.now();try{I?{result:v}=await this.get(`${n.A}`,y({},e),w(y({},A),{requestId:T}),{keepAlive:!!_}):{result:v}=await this.post({path:`${n.A}${C}${j}`,data:y({},e,R,I?{}:{requestId:T}),localUpdates:void 0,requestContext:w(y({},A),{requestId:T}),options:{keepAlive:_}})}catch(e){O=e}finally{S=performance.now()}let D=!I&&x&&this.securableAPIContext.featureFlags.isEnabled(g.MT)&&(0,d.P)(this.securableAPIContext.featureFlags,{query:e,options:t}),N=D?this.securableAPIContext.getUUIDv4():null;if((0,u.A)({version:0,initiator:"modelStoreAPI",isGuestFetch:I,result:v,error:O,start:U,end:S,sqlQuery:{query:e,options:t},shadowModeId:N,datadog:this.securableAPIContext.getDatadogRum(),logger:this.securableAPIContext.logger}),D){let r=w(y({},v),{cols:[...null!=(h=null==v?void 0:v.cols)?h:[]],rows:[...null!=(m=null==v?void 0:v.rows)?m:[]]});p()(()=>{this.v1query(e,w(y({},t),{requestId:this.securableAPIContext.getUUIDv4()}),N,{data:r,error:O})})}if(O)throw O;return v}async filesQuery(e,t){var r;let{desc:s,keepAlive:i}=t,o=b(t,["desc","keepAlive"]),a=null!=(r=t.requestContext)?r:this.urc.requestContext(),l=s?`?desc=${encodeURIComponent(s)}`:"";return await this.post({path:n.x+l,data:y({},e,o),localUpdates:void 0,requestContext:w(y({},a),{requestId:t.requestId}),options:{keepAlive:i}})}async restPassthrough(e,t,r,n,a,l="/session"){var u,c,d,h;let p,{desc:f,role:g,isJsonBody:m,keepAlive:v,requestId:S}=r,O=b(r,["desc","role","isJsonBody","keepAlive","requestId"]),E=null!=(h=r.requestContext)?h:null==(u=this.urc)?void 0:u.requestContext(),P=!!(null==(d=o.X.stores)||null==(c=d.user)?void 0:c.isGuestUser)||!!(null==E?void 0:E.isGuest)&&!(0,i.r)(window.location.hostname);switch(e){case"POST":{let e=s.nZ(y({desc:f},a));p=await this.post({path:`${l}${t}${e}`,data:y({},n,O,P?{}:{requestId:S}),localUpdates:void 0,requestContext:w(y({},E),{requestId:S,role:g}),options:{isJsonBody:m,keepAlive:v}});break}case"GET":p=await this.get(`${l}${t}`,y({requestId:r.requestId,desc:f},a),w(y({},E),{requestId:S,role:g}),{keepAlive:!!v});break;default:throw Error(`Unsupported rest passthrough type ${e}`)}return p}requestContext(e){return this.urc.requestContext(e)}constructor(e,t,r,s,n){this.urc=e,this.models=t,this.httpFactory=r,this.modelReceiver=s,this.securableAPIContext=n,this.backendHttp=r(()=>e.requestContext())}}O=function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}([(0,a.ri)(),v(0,(0,a.f3)("UserRequestContext")),v(1,(0,a.f3)(l.E)),v(2,(0,a.f3)("BackendHttpFactory")),v(3,(0,a.f3)("ModelReceiver")),v(4,(0,a.f3)("InternalSecurableAPIContext"))],O)},835330:function(e,t,r){r.d(t,{n:()=>a,y:()=>l});var s=r(467131),n=r(407254),i=r.n(n),o=r(854162);class a{destruct(){this.log("DESTROYED")}async bindStores(e,t={}){this._stores=e,this.storesDidBind&&await this.storesDidBind(e,t)}__subscribe(e,t){this._events.addListener("change",e),this._events.addListener("afterChange",t),this._events.addListener("error",this.onError)}__unsubscribe(e,t){this._events.removeListener("change",e),this._events.removeListener("afterChange",t),this._events.removeListener("error",this.onError)}error(e){this._events.emit("error",e)}notify(e,t){this.log(e),this.track(`STORE_${e}`),this._events.emit("change",e,t),this._events.emit("afterChange",e,t)}track(e,t,r,s){this._stores&&this._stores.analytics.track(e,t,r,s)}log(e,t){let r=`stores.${this.constructor.STORE_ID}`,n=20-r.length;n>0&&(r+=" ".repeat(n)),s.cM.info(r,e,t)}constructor(e,t,r){this.reduxStore=t,this.isLasikEnabled=r,this.onError=(e,t)=>{s.cM.error(e,{message:t}),o.U.setError(t?Error(t):e)},this._events=new(i()),this._events.setMaxListeners(1024)}}class l extends a{constructor(e,t,r,s){super(t,r,s),this.api=e}}},648038:function(e,t,r){r.d(t,{O:()=>s});var s,n=r(916616),i=r.n(n);let o=["streamlitSidebarCollapsed","streamlitSidebarWidth","streamlitEditorCollapsed","streamlitAppCollapsed","streamlitAppWidthPercentage","worksheetsSidebarTab","worksheetsSidebarCollapsed","worksheetsSidebarWidth","worksheetsTreeOpenPaths","worksheetsTreeSort"];var a=s||(s={});function l(e,t,r){if(e.user.currentUser){let s=JSON.stringify(r);sessionStorage.setItem(t,s);let n=e.user.currentUser.settings[t];if(!i()(r,n))return e.user.currentUser.settings[t]=r,!0}return!1}a.load=function(e,t){var r,s,n,i;let o=null!=(n=JSON.parse(null!=(s=sessionStorage.getItem(t))?s:"null"))?n:void 0,a=null!=(i=null==(r=e.user.currentUser)?void 0:r.settings[t])?i:void 0;return void 0===o&&void 0!==a&&sessionStorage.setItem(t,JSON.stringify(a)),null!=o?o:a},a.save=async function(e,t,r){l(e,t,r)&&await e.user.saveSettings()},a.saveAll=async function(e,t){let r=!1;for(let[s,n]of Object.entries(t))l(e,s,n)&&(r=!0);r&&await e.user.saveSettings()},a.clearSession=function(){o.forEach(e=>sessionStorage.removeItem(e))}},621335:function(e,t,r){r.d(t,{I:()=>s});let s=()=>!0},920295:function(e,t,r){r.d(t,{A:()=>n});var s=r(609737);let n=()=>s.flags.UI_ENABLE_BILLING_AND_TERMS_REFACTOR()},362779:function(e,t,r){r.d(t,{A:()=>v});var s,n=r(307134),i=r(609737),o=r(33055),a=r.n(o),l=r(841334),u=r.n(l),c=r(164214),d=r(383151),h=r(882042),p=r(642261),f=r(441326),g=r(564395),m=r(384789),y=r(198364),w=r(835330);function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}class v extends w.y{static isDisallowedDatadogEvent(e){return void 0!==e.type&&v.disallowedDatadogEventTypes.includes(e.type)}storesDidBind(e,t){let{pageType:r}=t;r&&this.track("PAGE_LOADED",{pageType:r})}updateActivePid(e){this.activePid=e}updateActiveFolder(e){var t,r;this.activeFolderId=null!=(t=null==e?void 0:e.id)?t:null,this.activeFolderType=null!=(r=null==e?void 0:e.type)?r:""}setStreamlitQueue(e){this.streamlitQueue=e}getStreamlitQueue(){return this.streamlitQueue}get props(){let e={ua:window.navigator.userAgent,cv:d.X.clientVersion,url:{path:g.lm.location.pathname,query:g.lm.location.search,hash:g.lm.location.hash},rf:document.referrer,ws:{w:window&&window.innerWidth||0,h:window&&window.innerHeight||0}};return this.activePid&&(e.pid=this.activePid),this.activeFolderId&&(e.folderId=this.activeFolderId,e.folderType=this.activeFolderType),e}track(e,t={},r=!0,s=!1){this.newTrack(b({event:e},t),r,s)}newTrack(e,t=!0,r=!1){let s=String(Date.now());e.timestamp=s,e.idempotencyToken=c.Z(),e.metadata={},e.metadata.__debugClientTimestamp=s;let n=this._stores.user.api.urc.getWindowId();n&&(e.windowId=n);try{i.flags._DP_UIP_VISIT_ID()&&(e.visitId=(0,f.c)())}catch(t){e.visitId=(0,f.c)()}let o=this._stores.user.isGuestUser&&(0,m.P)();o&&(e.guestUserCookie=o);let a=b({eventLog:e,checkFullDiff:r},!r&&{consolidateRepeats:t});this.emitEventToDatadog(e),this.queue.push(a),this.throttledCommit()}emitEventToDatadog(e){if(!v.isDisallowedDatadogEvent(e)){"ui_track_view"===e.type&&n.v.startView(e.event);try{let t;void 0!==e.data&&u()(e.data)?t=e.data:void 0!==e.data&&(t={value:e.data}),n.v.addAction(e.event,t)}catch(t){console.error("Unable to emit event: ",e.data)}}}async commit(e){if(d.T.notProvisioned){this.queue.length=0;return}e||(e=this.queue.splice(0,this.queue.length));let t=[],r={},s={};for(let n=0;n<e.length;n++){let{eventLog:i,consolidateRepeats:o,checkFullDiff:l}=e[n],{event:u}=i;if(o)if(null==r[u])r[u]=0,t.push(i);else{r[u]++;continue}else if(l){if(!s[u]){s[u]=[{uniqueEvent:i,numRepeats:0}],t.push(i);continue}let e=!1;for(let t=0;t<s[u].length;t++){let r=s[u][t].uniqueEvent;if(a()(r,i)){s[u][t].numRepeats++,e=!0;break}}e||(s[u].push({uniqueEvent:i,numRepeats:0}),t.push(i))}else t.push(i)}for(let e=0;e<t.length;e++){let n=r[t[e].event];if("number"==typeof n){t[e].repeats=n;continue}let i=s[t[e].event];if(s&&i)for(let r of i)a()(r.uniqueEvent,t[e])&&r.numRepeats>0?t[e].repeats=r.numRepeats:t[e].repeats=0}if(t.length){this.log(`COMMIT (${t.length} events)`);try{await this.api.post({path:"/a/events",data:{events:t,props:this.props,now:new Date().toISOString()}})}catch(e){}}}setClientOperationId(e,t){this.clientOperationIds.set(e,null!=t?t:c.Z())}getClientOperationId(e){return this.clientOperationIds.get(e)}deleteClientOperationId(e){this.clientOperationIds.delete(e)}constructor(e){super(e,{}),this.queue=[],this.throttledCommit=p.P(this.commit.bind(this),3e4,{leading:!1}),this.activePid=null,this.activeFolderId=null,this.activeFolderType="",this.clientOperationIds=new Map,this.streamlitQueue=void 0}}v.STORE_ID="analytics",v.disallowedDatadogEventTypes=["ui_performance","ui_response_success","ui_scroll","ui_impression","ui_visit","ui_error","ui_response_error","ui_keyboard"],v=function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}([(0,h.ri)(),(s=(0,h.f3)(y.P),function(e,t){s(e,t,0)})],v)},609290:function(e,t,r){r.d(t,{U:()=>J});var s=r(307134),n=r(609737),i=r(30673),o=r(413401),a=r(467131),l=r(767557),u=r(498448),c=r(183805),d=r(117043),h=r(888890),p=r(662839),f=r(613752),g=r(311636),m=r(438635),y=r(83980),w=r(844699),b=r(383151),v=r(616821),S=r(262777),O=r(882042),E=r(165769),P=r(24073),_=r(54076),T=r(982842),R=r(185728),I=r(445060),A=r(941345),C=r(166564),k=r(854162),x=r(198364),j=r(835330),U=r(648038),D=r(674337);let N=(e,t)=>void 0!==e.find(e=>{var r;return"allOptionType"in e.settings&&(null==(r=e.settings)?void 0:r.allOptionType)===t}),L=e=>void 0!==e.find(e=>{var t;return"hasOtherOption"in e.settings&&(null==(t=e.settings)?void 0:t.hasOtherOption)});function F(e){if(void 0===e)return;let t=N(e,"implicit"),r=N(e,"explicit");(t||r)&&s.v.addAction(D.Sht,{hasAllOptionTypeImplicit:t,hasAllOptionTypeExplicit:r}),L(e)&&s.v.addAction(D.rGl)}var q=r(920295);class M{async receive(e){}addUpdater(e,t,r){}removeUpdater(e,t,r){}}function B(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function W(e,t){var r=B(e,t,"get");return r.get?r.get.call(e):r.value}function V(e,t,r){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");t.set(e,r)}function G(e,t,r){var s=B(e,t,"set");if(s.set)s.set.call(e,r);else{if(!s.writable)throw TypeError("attempted to set read only private field");s.value=r}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}function $(e,t){return function(r,s){t(r,s,e)}}let z={canSeeSessionsTab:!1,canSeeNotificationContacts:!1,canSeeNetworkPoliciesTab:!1,canSeeSnowflakeDataMarketplaceBilling:!1,canSeeAccountUsage:!1,canSeeOrgUsage:!1,canSeeBillingPage:!1,canSeeBillingAndPaymentsPage:!1,canSeeSecurityPage:!1,canCreateResourceMonitors:!1,canCreateAccounts:!1,canSeeDataGovernancePage:!1,canSeeSharingSettingPage:!1};var X=new WeakMap,Q=new WeakMap;class J extends j.y{storesDidBind(e,t){}get context(){return this.urc}get isGuestUser(){return!this.currentUser}get currentUser(){return this.userForId(this.currentUserId)}get dataExchangeEnabled(){return n.flags.UI_FEATURE_PRIVATE_DATA_EXCHANGE_ENABLED()||this.isSnowflakeFeatureEnabled("UI_ENABLE_PUBLIC_LISTINGS")||n.flags.UI_ENABLE_PRIVATE_LISTINGS()}get isSnowparkOptimizedEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.ALLOW_HIGH_MEMORY_WAREHOUSE)}get isBudgetFeatureEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_CG_BUDGET")}get dxHealthCheckEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_DX_HEALTH_CHECK")}get dxAdminUnpublishListingsForPDEEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_ENABLE_ADMIN_UNPUBLISH_LISTINGS_FOR_PRIVATE_DATA_EXCHANGE)}get navigationRules(){var e;let t=(null==(e=this.currentUser)?void 0:e.availableRoles)||[],r=H({},z);return this.hasSuperAccountAdminRole&&(r.canSeeDataGovernancePage=!0),this.hasSuperAccountAdminRole&&(r.canSeeAccountUsage=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_CONSUMPTION_PAGE"),r.canSeeBillingPage=this.creditCardBillingEnabled,r.canSeeNotificationContacts=!0),this.hasSuperAccountAdminRole||t.includes("SECURITYADMIN")?(r.canSeeSessionsTab=!0,r.canSeeNetworkPoliciesTab=!0,r.canSeeSecurityPage=!0,r.canCreateResourceMonitors=!0):t.includes("SYSADMIN"),this.hasSuperOrgAdminRole&&(r.canSeeNotificationContacts=!0,r.canSeeSnowflakeDataMarketplaceBilling=this.dataExchangeEnabled,r.canCreateAccounts=!0,r.canSeeOrgUsage=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_CONSUMPTION_PAGE")),(this.hasAdminRole||this.canModifyParameters)&&this.isFeatureEnabled(i.gT.LEGACY_SHARING_GRANDFATHERED)&&(r.canSeeSharingSettingPage=!0),r.canSeeBillingAndPaymentsPage=(0,q.A)(),r}get warehouseMaxSize(){return this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_WAREHOUSE_MAX_SIZE,"string")||"4X-Large"}get regionlessRedirectEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_SNOWSIGHT_ENABLE_REGIONLESS_REDIRECT)}get privateListingPublishLimit(){return this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_UI_PRIVATE_LISTING_PUBLISH_LIMIT,"number")}get schemaBrowserEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_AX_PUPR)}get replicationEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_ENABLE_ACCOUNT_DATABASE_REPLICATION)}get creditCardBillingEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.CREDIT_CARD_BILLING_ENABLED)}get lineOverlayChartsEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_APEX_FEATURE_1")}get keepTooltipsOnTopEnabled(){return this.isFeatureEnabled(i.gT.KEEP_TOOLTIP_ON_TOP_ENABLED)}get queryTextRoleEnabled(){return this.isFeatureEnabled(i.gT.QUERY_TEXT_ENTITY_MEMBER_ROLE)}get resultDownloadDisabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_DISABLE_DOWNLOAD)}get selfPasswordChangeDisabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_DISABLE_SELF_PASSWORD_CHANGE)}get supportEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_SUPPORT)}get supportForTrialAccountsEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_SUPPORT_FOR_TRIAL_ACCOUNTS)}get npsEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_NPS)}get learnEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_LEARN)}get inProductSearchEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_IN_PRODUCT_SEARCH)}get anacondaEnablementEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_ANACONDA_ENABLEMENT)}get cgTaggingEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_CG_TAGGING")}get getStartedPageV2Enabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_TRIAL_HOME_PAGE_V2)}get isLandingPageOverrideSetToSnowflake(){return this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_UI_LANDING_PAGE_OVERRIDE,"string")===i.gT.UI_LANDING_PAGE_SNOWFLAKE_APP}get landingPageParam(){return this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_UI_LANDING_PAGE,"string")}getSnowflakeParameterValue(e,t){let r=this.getSnowflakeParameterRawValue(e);return void 0===r?"string"===t?"":0:(typeof r!==t&&a.cM.error(Error(`APPS-9412: Unexpected type (${typeof r}) for parameter ${e}`)),r)}isFeatureEnabled(e){return this.currentUser&&this.currentUser.settings&&this.currentUser.settings.features&&!!this.currentUser.settings.features[e]||this._stores&&this._stores.organization.isFeatureEnabled(e)}isCanary(){return this.currentBeach()===S._p}isHotfix(){return this.currentBeach()===S.hJ}areLocalOverridesAllowed(){return(0,v.mb)()||(0,v.WC)()||this.isCanary()||this.isHotfix()}isSnowflakeFeatureEnabled(e){let t=this.getSnowflakeParameterRawValue(e);return!0===t||!1===t||void 0===t||a.cM.error(Error(`APPS-9412: Unexpected type (${typeof t}) for parameter ${e}`)),!!t}isUiSpecifiedSnowflakeFeatureEnabled(e){return(0,C.Z)(e,this.getSnowflakeParameterRawValue(e),this.areLocalOverridesAllowed())}getSnowflakeParameterRawValue(e){var t,r,n;let i=null==(n=this.currentUser)||null==(r=n.settings)||null==(t=r.snowflakeFeatures)?void 0:t[e];if(this.parameters){let t=this.parameters[e];if(void 0!==t)return t;void 0===i||W(this,Q).has(e)||(W(this,Q).add(e),s.v.addAction("parameter-existence-mismatch",{featureName:e}))}return i}isSnowflakeFeatureDefined(e){return this.currentUser&&this.currentUser.settings&&this.currentUser.settings.snowflakeFeatures&&void 0!=this.currentUser.settings.snowflakeFeatures[e]}userForId(e){return this.api.models.users.get(e)}get hasAdminRole(){var e;return null==(e=this.currentUser)?void 0:e.hasAdminRole}get canModifyParameters(){var e;return null==(e=this.currentUser)?void 0:e.canModifyParameters}async saveSettings(){this.currentUser&&(this.notify("USER_SAVE_SETTINGS_STARTED"),await this.api.post({path:"/settings",data:this.currentUser.settings}),this.notify("USER_SAVE_SETTINGS_COMPLETED"))}async updateSettings(e){let t=new FormData;Object.keys(e).forEach(r=>{"avatar"===r?""===e[r].get("avatar")?t.append("clearAvatar",String(!0)):t.append(r,e[r].get("avatar")):"object"==typeof e[r]?t.append(r,JSON.stringify(e[r])):t.append(r,e[r])}),await this.api.post({path:"/settings",data:t}),this.notify("USER_UPDATE_SETTINGS_COMPLETED")}async sendValidationEmail(){await this.api.post({path:"/sendValidationEmail"}),this.notify("USER_EMAIL_VALIDATION_SENT")}async previewProfileImg(e){let t=new FormData;return t.append("avatar",e),(await d.nufetchForm("/avatarPreview",this.api.requestContext(),{method:"POST",body:t})).avatar}async signoutAccount(e){let t,r=!1;try{let s=await this.api.post({path:"/signout-account",data:{},localUpdates:[],requestContext:this.api.requestContext(e.userKey)});s.redirectURL&&(t=s.redirectURL),r=!0}catch(e){a.cM.error(e)}return{success:r,userKey:e.userKey,redirectURL:t}}async signout(){this.signoutInProgress=!0,this.notify("USER_SIGNOUT_STARTED");try{let e=await Promise.all(this.urc.accountsToLogout().map(e=>this.signoutAccount(e)));for(let t of(this.urc.completeLogout(),U.O.clearSession(),e))if(t.redirectURL){window.location.href=t.redirectURL;return}let t=e.filter(e=>!e.success).map(e=>e.userKey);if(t.length)throw Error(`signout failed for ${t.length} accounts (${JSON.stringify(t)})`);this.notify("USER_SIGNOUT_COMPLETE")}catch(e){a.cM.error(e),this.signoutInProgress=!1,this.notify("USER_SIGNOUT_FAILED")}}sortForVirtualFolder(e){var t;return((null==(t=this.currentUser)?void 0:t.settings.virtualFolderSorts)||{})[e]}async setVirtualFolderSort(e,t){this.currentUser&&(this.currentUser.settings.virtualFolderSorts[e]=t,await this.saveSettings())}userPinnedItems(){var e;return this.userPinnedItemsForStr(null==(e=this.currentUser)?void 0:e.settings.pinnedItems)}pinnedItemsStrSet(){return new Set(this.userPinnedItems().map(e=>(0,_.z)(e)))}async updateUserPinnedItemsPin(e){let t=this.pinnedItemsStrSet();t.add((0,_.z)(e));let r=(0,_.v)(t);await this.updateSettings({pinnedItems:r})}async updateUserPinnedItemsUnpin(e){let t=this.pinnedItemsStrSet();t.delete((0,_.z)(e));let r=(0,_.v)(t);await this.updateSettings({pinnedItems:r})}getOpenWorksheetTabs(){var e;return void 0===this.openWorksheetTabs&&(null==(e=this.currentUser)?void 0:e.settings)&&(this.openWorksheetTabs=this.currentUser.settings.openWorksheetPids||[]),[...this.openWorksheetTabs||[]]}isWorksheetTabOpen(e){return this.getOpenWorksheetTabs().includes(e)}updateWorksheetTabs(e,t){if(!e.length){var r;s.v.addAction("WORKSHEET_TABS_CLEAR",{origin:t,previousOpenTabsCount:null==(r=this.openWorksheetTabs)?void 0:r.length})}this.openWorksheetTabs=e,this.updateSettings({openWorksheetPids:e}),this.notify("USER_TABS_UPDATED")}openWorksheetTab(e){if(!this.isWorksheetTabOpen(e)){let t=this.getOpenWorksheetTabs().concat([e]);this.updateWorksheetTabs(t,"open-worksheet-tab")}}closeWorksheetTab(e){if(this.isWorksheetTabOpen(e)){let t=this.getOpenWorksheetTabs().filter(t=>t!==e);this.updateWorksheetTabs(t,"close-worksheet-tab")}}userConnectionSettings(e){var t;return((null==(t=this.currentUser)?void 0:t.settings.connections)||{})[e]||{}}async updateUserConnectionSettings(e,t){if(this.currentUser){let r=this.currentUser.settings.connections||{},s=H({},r[e]||{});for(let e in t)s[e]=t[e];let n=H({},r);n[e]=s,this.currentUser.settings.connections=n,await this.saveSettings()}}currentUserInfo(e){return this.urc.currentUserInfo(e)}__inaccuratelyTypedCurrentUserInfoDoNotUseInNewCode(e){return this.urc.__inaccuratelyTypedCurrentUserInfoDoNotUseInNewCode(e)}userRequestContext(e){return this.urc.requestContext(e)}completeLogin(e,t,r,s,n,i=!0){var o,a,l,u;this.urc.completeLogin({account:e.account,name:e.name,url:e.url,region:s,appServerUrl:r,username:t.username,snowflakeOrgName:(null==(o=e.settings)?void 0:o.snowflakeOrgName)||"",edition:(null==(a=e.settings)?void 0:a.edition)||"",accountAlias:(null==(l=e.settings)?void 0:l.accountAlias)||"",currentDeploymentLocation:null==(u=e.settings)?void 0:u.currentDeploymentLocation},i,n),this.notify("COMPLETED_LOGIN")}toUserKey(e,t){return this.urc.toUserKey(e,t)}sortedUniqueLoggedInAccountsArray(){return this.urc.sortedUniqueLoggedInAccountsArray()}loggedInAccountsList(){return this.urc.loggedInAccountsList()}setBeachCookie(){var e;this.urc.setDefaultBeachCookieForAccount(null==(e=this._stores.organization.activeOrg)?void 0:e.account)}showLoginOptInModal(){if(this.currentUser){var e;if(this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_UI_LANDING_PAGE_OVERRIDE,"string")!==i.gT.UI_LANDING_PAGE_SNOWFLAKE_APP&&(null==(e=this.initialUrlQueryParameters)?void 0:e.optInModal)==="true")return!0}return!1}switchPrimaryUser(e,t){return this.urc.switchPrimaryUser(e,t)}clearBeachCookie(){this.beachState.clearBeachCookie()}currentBeach(){return this.beachState.currentBeach()}switchBeachVersion(e,t){return this.urc.switchBeachVersion(e,t)}showBeachBanner(){return this.environ==E.q.staging&&!!this.currentBeach()}showAccountBeachVersion(){if(this.environ==E.q.staging){var e;return!!this.urc.beachCookieForAccount(null==(e=this._stores.organization.activeOrg)?void 0:e.account)}return!!this.currentBeach()}async switchUser(e,t){return await this._stores.analytics.commit(),U.O.clearSession(),this.urc.switchUser(e,t)}isCurrentUser(e){return this.urc.isCurrentUser(e)}isOrgAliasEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_USE_ORG_AND_ALIAS_FOR_DX)&&this.loggedInAccountsList().every(e=>!!e.snowflakeOrgName)}async fetchBootstrapData(){if(!this.isGuestUser)try{var e,t;let r=await this.api.post({path:"/fetch-bootstrap-data",data:{IncludeClientParameters:!1}});this._stores.organization.setOrg(r.organization),F(null==(t=r.organization)||null==(e=t.settings)?void 0:e.paramConfigs),void 0!==r.clientParameters&&this.updateClientParameters(r.clientParameters,"/fetch-bootstrap-data")}catch(e){this.handleException(e)}}async fetchExtendedBootstrapData(){var e,t,r;let n;if(this.isGuestUser)return void this.loadParameters();try{if(null==(e=b.X.bootstrapFetches)?void 0:e.extendedBootstrapData){let e=await b.X.bootstrapFetches.extendedBootstrapData;e&&e.accountInfo&&e.clientParameters&&e.organization&&(n=e)}}catch(e){s.v.addError(e,{bootstrap:!0})}try{n||(n=await this.api.post({path:"/fetch-extended-bootstrap-data"})),this._stores.organization.setOrg(n.organization),F(null==(r=n.organization)||null==(t=r.settings)?void 0:t.paramConfigs),this.updateAccountInfo(n.accountInfo),void 0!==n.clientParameters&&this.updateClientParameters(n.clientParameters,"/fetch-extended-bootstrap-data")}catch(e){this.handleException(e)}}async loadParameters(){let e;try{var t,r;let s=(null==(t=b.X.bootstrapFetches)?void 0:t.extendedBootstrapData)||(null==(r=b.X.bootstrapFetches)?void 0:r.guestBootstrapData);if(s){let t=await s;(null==t?void 0:t.clientParameters)&&(e={clientParamsInfo:t.clientParameters})}}catch(e){s.v.addError(e,{bootstrap:!0})}try{let t=this.isGuestUser;if(!e){let{data:r}=await this.api.restPassthrough("POST","/request/console/bootstrap-data-request?desc=parameters",{role:"PUBLIC",isJsonBody:!0},{dataKinds:t?["CLIENT_PARAMS_INFO"]:["CLIENT_PARAMS_INFO","ACCOUNT"]});e=r}this.updateAccountInfo(null==e?void 0:e.accountInfo),this.updateClientParameters((null==e?void 0:e.clientParamsInfo)||[],"/request/console/bootstrap-data-request?desc=parameters")}catch(e){this.handleException(e)}}async waitForLoadClientParameters(){return this.loadClientParametersPromise}updateAccountInfo(e){if(e){var t,r;this.regionGroupType=null==(t=(null!=(r=e.availableRegions)?r:[])[e.currentDeploymentLocation])?void 0:t.regionGroupType,s.v.setUserProperty("account_type",e.type),s.v.setUserProperty("trial_status",e.trialStatus)}this.isOnDemandAccount=!!(null==e?void 0:e.onDemandAccount),this.isRestrictedAccount=!!(null==e?void 0:e.restrictedAccount),this.accountOrgDefaultedToSnowsight=!!(null==e?void 0:e.accountOrgDefaultedToSnowsight),this.organizationAccount=!!(null==e?void 0:e.organizationAccount),G(this,X,(null==e?void 0:e.type)==="READER")}updateClientParameters(e,t){let r={},s=void 0===this.parameters||e.length!=Object.keys(this.parameters).length;for(let t of e){r[t.name]=t.value;let e=this.parameters?this.parameters[t.name]:null;s||e===t.value||(s=!0)}let i=n.FlagClient.getInstance();i&&i.updateRemoteFlags(r,t),s&&(this.parameters=r,this.notify("PARAMETERS_LOADED"),this.deprecated_storeSelectParamsForCoreUi()),this.checkCrossRoleSharingFlag(r)}deprecated_storeSelectParamsForCoreUi(){let e=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_AF_FEATURE_42");window.localStorage.setItem("UI_ENABLE_AF_FEATURE_42",e.toString())}handleException(e){if(this.currentUser)throw e;this.notify("PARAMETERS_LOADED_GUEST_ERROR")}checkCrossRoleSharingFlag(e){if(this.currentUser)!!e[i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_CROSS_ROLE_SHARING]!=!!this.currentUser.settings.snowflakeFeatures[i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_CROSS_ROLE_SHARING]&&this.onParameterOutOfSync()}static async checkUserSession(){var e,t;if(null==(t=b.X.stores)||null==(e=t.user)?void 0:e.isGuestUser)return;let r=new T.E,s=new M,n=new A.s,i=new x.P(k.U.urc,r,e=>new I.w(d,e),s,n);try{await i.restPassthrough("POST","/request/console/bootstrap-data-request",{role:"PUBLIC",isJsonBody:!0,keepAlive:!1},{dataKinds:[]})}catch(e){throw e}}currentRole(){return this.urc.currentRole()}currentSecondaryRoles(){return this.urc.currentSecondaryRoles()}hasNewPrimaryLoginOccurred(){return this.urc.hasNewPrimaryLoginOccurred()}switchCurrentRole(e){this.urc.switchCurrentRole(e)&&this.notify("USER_ROLE_CHANGED"),this.reduxStore&&this.reduxStore.dispatch((0,R.Tp)(e))}switchCurrentSecondaryRoles(e){this.urc.switchCurrentSecondaryRoles(e),this.notify("USER_SECONDARY_ROLES_CHANGED"),this.reduxStore&&this.reduxStore.dispatch((0,R.Hz)(e))}get hasSuperAccountAdminRole(){var e;return(0,p.i)(null==(e=this.currentUser)?void 0:e.availableRoles)}get isCurrentRoleSuperAccountAdmin(){return(0,m.h)(this.currentRole())}get hasSuperOrgAdminRole(){var e;return(0,f.j)(null==(e=this.currentUser)?void 0:e.availableRoles)}get isCurrentRoleSuperOrgAdmin(){return(0,y.l)(this.currentRole())}get superAccountAdmin(){return this.organizationAccount?h.XW:h.Jk}get superOrgAdmin(){return this.organizationAccount?h.XW:h.rJ}get hasSuperSecurityAdminRole(){var e;return(0,g.w)(null==(e=this.currentUser)?void 0:e.availableRoles)}get isCurrentRoleSuperSecurityAdmin(){return(0,w.E)(this.currentRole())}getAccountsForRegion({regionGroup:e,snowflakeRegion:t}){return this.loggedInAccountsList().filter(r=>r.currentDeploymentLocation===`${e}.${t}`)}async downloadWorksheets(e,t=d.nufetch){await t(`/worksheets-download?${(0,l.nZ)({username:e})}`,this.api.requestContext())}get isReaderAccount(){return W(this,X)}get allParameters(){if(this.parameters)return structuredClone(this.parameters)}constructor(e,t,r,s){super(e,t,s),V(this,X,{writable:!0,value:void 0}),V(this,Q,{writable:!0,value:void 0}),this.api=e,this.params=t,this.beachState=r,G(this,Q,new Set),this.userPinnedItemsForStr=(0,u.default)(e=>{let t=[];try{e&&(t=JSON.parse(e))}catch(e){console.warn("Caught exception trying to parse pinnedItems -- ignoring: ",e)}return t}),this.currentUserId=t.user?String(t.user.id):null,this.urc=t.urc,this.environ=t.environ,this.regionGroupType=t.regionGroupType,this.signoutInProgress=!1,this.initialUrlQueryParameters=c.parse((0,P.J)().location.search),this.isOnDemandAccount=!1,this.isRestrictedAccount=!1,G(this,X,!1),this.accountOrgDefaultedToSnowsight=!1,this.organizationAccount=!1,this.loadClientParametersPromise=new Promise(e=>{this._events.addListener("change",t=>{"PARAMETERS_LOADED"===t&&e()})}),(0,o.U)(e=>{let t=this.getSnowflakeParameterRawValue(e);return"boolean"==typeof t?this.isSnowflakeFeatureEnabled(e):"string"==typeof t&&this.isUiSpecifiedSnowflakeFeatureEnabled(e)})}}J.STORE_ID="user",J=function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}([(0,O.ri)(),$(0,(0,O.f3)(x.P)),$(1,(0,O.f3)("PageState")),$(2,(0,O.f3)(S.gL)),$(3,(0,O.f3)("ReduxStore"))],J)},211657:function(e,t,r){r.d(t,{At:()=>u,PW:()=>d,VX:()=>l,cO:()=>a,r:()=>c});var s=r(307134),n=r(467131);function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}let o={};function a(e){try{let t=e.lastIndexOf("/w");return t>0?e.substring(t+2):void 0}catch(e){return}}function l(e,t){let r={id:e,metrics:t};return o[e]=r,r}function u(e,t,r=!0){let a=o[e];return a&&(r?a.metrics=i({},a.metrics,t):a.metrics=i({},t,a.metrics),function(e){let t=e.metrics;if(t.worksheetId&&(t.statsEndTime||t.statsPollingEndTime)&&t.postQueryEndTime&&t.gsDurationMs&&t.resultsOnScreenTime){var r,a;let l={worksheetId:t.worksheetId,isMultistatement:t.isMultistatement,folderId:t.folderId,origin:t.origin,requestId:t.requestId,queryId:t.queryId},u=Math.max(t.postQueryEndTime,null!=(r=t.monitorPollingEndTime)?r:0),c=h(t.postQueryStartTime,u),d=h(u,t.resultsOnScreenTime),p=h(t.postQueryStartTime,t.resultsOnScreenTime),f=c&&c-t.gsDurationMs,g=d&&Math.max(d-t.gsDurationMs,d),m=p&&p-t.gsDurationMs,y=performance.timeOrigin+performance.now(),w=i({},l,{startTime:t.startTime,endTime:y,durationMs:h(t.startTime,y),statsStartTime:t.statsStartTime,statsEndTime:t.statsEndTime,statsFeDurationMs:h(t.statsStartTime,t.statsEndTime),statsPollingStartTime:t.statsPollingStartTime,statsPollingEndTime:t.statsPollingEndTime,statsPollingTimes:t.statsPollingTimes,statsBeDurationMs:h(t.statsPollingStartTime,t.statsPollingEndTime),monitorPollingCount:t.monitorPollingCount,monitorPollingLongestDurationMs:t.monitorPollingLongestDurationMs,monitorPollingShortestDurationMs:t.monitorPollingShortestDurationMs,monitorPollingStartTime:t.monitorPollingStartTime,monitorPollingEndTime:t.monitorPollingEndTime,monitorPollingTotalDuration:h(t.monitorPollingStartTime,t.monitorPollingEndTime),postQueryStartTime:t.postQueryStartTime,postQueryEndTime:t.postQueryEndTime,postQueryDuration:t.postQueryDuration,queryEndStatus:t.queryEndStatus,gsDurationMs:t.gsDurationMs,resultsOnScreenTime:t.resultsOnScreenTime,serverOverheadMs:f,clientOverheadMs:g,totalOverheadMs:m});n.cM.info("QE","Query Execution",w),s.v.addAction("snowsight-query-execution",w),o[(a=e).id],o[a.id]}}(a)),a}function c(e){return o[e]}function d(e){if(e){for(let[t,r]of Object.entries(o))if(r.metrics.queryId===e)return t}}function h(e,t){if(void 0!==e&&void 0!==t)return t-e}}}]);
//# sourceMappingURL=22089-70201b2d160b08d1.js.map